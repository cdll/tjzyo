(function(c,b){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=c.document?b(c,true):function(d){if(!d.document){throw new Error("Avalon requires a window with a document")}return b(d)}}else{b(c)}}(typeof window!=="undefined"?window:this,function(cl,bd){var aM=new Date()-0;var cX=cl.document;var b=cX.getElementsByTagName("head")[0];var aI=b.insertBefore(document.createElement("avalon"),b.firstChild);aI.innerHTML="X<style id='avalonStyle'>.avalonHide{ display: none!important }</style>";aI.setAttribute("ms-skip","1");aI.className="avalonHide";var at=/\[native code\]/;function cL(){if(cl.console&&avalon.config.debug){Function.apply.call(console.log,console,arguments)}}var c5="$"+aM;var av=cl.require;var ao=cl.define;var r;var L=false;var v={};var b8=/[^, ]+/g;var f=/\w+/g;var B=/^(?:object|array)$/;var aA=/^\[object SVG\w*Element\]$/;var I=/^\[object (?:Window|DOMWindow|global)\]$/;var bJ=Object.prototype;var cr=bJ.hasOwnProperty;var c0=bJ.toString;var dd=Array.prototype;var ab=dd.slice;var aX=cl.dispatchEvent;var dq=cX.documentElement;var cx=cX.createDocumentFragment();var dF=cX.createElement("div");var aL={};"Boolean Number String Function Array Date RegExp Object Error".replace(b8,function(e){aL["[object "+e+"]"]=e.toLowerCase()});function l(){}function dI(dU,dS){if(typeof dU==="string"){dU=dU.match(b8)||[]}var e={},dR=dS!==void 0?dS:1;for(var ap=0,dT=dU.length;ap<dT;ap++){e[dU[ap]]=dR}return e}var bU=function(e){e=e||"avalon";return String(Math.random()+Math.random()).replace(/\d\.\d{4}/,e)};function dt(){if(cl.VBArray){var e=document.documentMode;return e?e:cl.XMLHttpRequest?7:6}else{return NaN}}var cg=dt();avalon=function(e){return new avalon.init(e)};avalon.profile=function(){if(cl.console&&avalon.config.profile){Function.apply.call(console.log,console,arguments)}};avalon.nextTick=new function(){var dS=cl.setImmediate;var dR=cl.MutationObserver;if(dS){return dS.bind(cl)}var e=[];function dU(){var dW=e.length;for(var dV=0;dV<dW;dV++){e[dV]()}e=e.slice(dW)}if(dR){var dT=document.createTextNode("avalon");new dR(dU).observe(dT,{characterData:true});var ap=false;return function(dV){e.push(dV);ap=!ap;dT.data=ap}}return function(dV){setTimeout(dV,4)}};avalon.init=function(e){this[0]=this.element=e};avalon.fn=avalon.prototype=avalon.init.prototype;avalon.type=function(e){if(e==null){return String(e)}return typeof e==="object"||typeof e==="function"?aL[c0.call(e)]||"object":typeof e};var G=typeof alert==="object"?function(ap){try{return/^\s*\bfunction\b/.test(ap+"")}catch(dR){return false}}:function(e){return c0.call(e)==="[object Function]"};avalon.isFunction=G;avalon.isWindow=function(e){if(!e){return false}return e==e.document&&e.document!=e};function bo(e){return I.test(c0.call(e))}if(bo(cl)){avalon.isWindow=bo}var aN;for(aN in avalon({})){break}var dN=aN!=="0";avalon.isPlainObject=function(dS,ap){if(!dS||avalon.type(dS)!=="object"||dS.nodeType||avalon.isWindow(dS)){return false}try{if(dS.constructor&&!cr.call(dS,"constructor")&&!cr.call(dS.constructor.prototype,"isPrototypeOf")){return false}}catch(dR){return false}if(dN){for(ap in dS){return cr.call(dS,ap)}}for(ap in dS){}return ap===void 0||cr.call(dS,ap)};if(at.test(Object.getPrototypeOf)){avalon.isPlainObject=function(e){return c0.call(e)==="[object Object]"&&Object.getPrototypeOf(e)===bJ}}avalon.mix=avalon.fn.mix=function(){var d0,dS,ap,dR,dX,dY,dW=arguments[0]||{},dU=1,dT=arguments.length,dZ=false;if(typeof dW==="boolean"){dZ=dW;dW=arguments[1]||{};dU++}if(typeof dW!=="object"&&!G(dW)){dW={}}if(dU===dT){dW=this;dU--}for(;dU<dT;dU++){if((d0=arguments[dU])!=null){for(dS in d0){ap=dW[dS];try{dR=d0[dS]}catch(dV){continue}if(dW===dR){continue}if(dZ&&dR&&(avalon.isPlainObject(dR)||(dX=Array.isArray(dR)))){if(dX){dX=false;dY=ap&&Array.isArray(ap)?ap:[]}else{dY=ap&&avalon.isPlainObject(ap)?ap:{}}dW[dS]=avalon.mix(dZ,dY,dR)}else{if(dR!==void 0){dW[dS]=dR}}}}}return dW};function br(ap,e){ap=Math.floor(ap)||0;return ap<0?Math.max(e+ap,0):Math.min(ap,e)}avalon.mix({rword:b8,subscribers:c5,version:1.5,ui:{},log:cL,slice:aX?function(ap,dR,e){return ab.call(ap,dR,e)}:function(dR,dU,ap){var dS=[];var e=dR.length;if(ap===void 0){ap=e}if(typeof ap==="number"&&isFinite(ap)){dU=br(dU,e);ap=br(ap,e);for(var dT=dU;dT<ap;++dT){dS[dT-dU]=dR[dT]}}return dS},noop:l,error:function(dR,ap){throw (ap||Error)(dR)},oneObject:dI,range:function(dU,ap,dT){dT||(dT=1);if(ap==null){ap=dU||0;dU=0}var dR=-1,dS=Math.max(0,Math.ceil((ap-dU)/dT)),e=new Array(dS);while(++dR<dS){e[dR]=dU;dU+=dT}return e},eventHooks:[],bind:function(dT,dS,dR,ap){var e=avalon.eventHooks;var dU=e[dS];if(typeof dU==="object"){dS=dU.type;if(dU.deel){dR=dU.deel(dT,dS,dR,ap)}}var dV=aX?dR:function(dW){dR.call(dT,cH(dW))};if(aX){dT.addEventListener(dS,dV,!!ap)}else{dT.attachEvent("on"+dS,dV)}return dV},unbind:function(dT,dS,dR,ap){var e=avalon.eventHooks;var dU=e[dS];var dV=dR||l;if(typeof dU==="object"){dS=dU.type;if(dU.deel){dR=dU.deel(dT,dS,dR,false)}}if(aX){dT.removeEventListener(dS,dV,!!ap)}else{dT.detachEvent("on"+dS,dV)}},css:function(dR,e,dS){if(dR instanceof avalon){dR=dR[0]}var dU=/[_-]/.test(e)?m(e):e,ap;e=avalon.cssName(dU)||dU;if(dS===void 0||typeof dS==="boolean"){ap=x[dU+":get"]||x["@:get"];if(e==="background"){e="backgroundColor"}var dT=ap(dR,e);return dS===true?parseFloat(dT)||0:dT}else{if(dS===""){dR.style[e]=""}else{if(dS==null||dS!==dS){return}if(isFinite(dS)&&!avalon.cssNumber[dU]){dS+="px"}ap=x[dU+":set"]||x["@:set"];ap(dR,e,dS)}}},each:function(dR,ap){if(dR){var e=0;if(a8(dR)){for(var dS=dR.length;e<dS;e++){if(ap(e,dR[e])===false){break}}}else{for(e in dR){if(dR.hasOwnProperty(e)&&ap(e,dR[e])===false){break}}}}},getWidgetData:function(dS,dT){var ap=avalon(dS).data();var e={};for(var dR in ap){if(dR.indexOf(dT)===0){e[dR.replace(dT,"").replace(/\w/,function(dU){return dU.toLowerCase()})]=ap[dR]}}return e},Array:{ensure:function(ap,e){if(ap.indexOf(e)===-1){return ap.push(e)}},removeAt:function(ap,e){return !!ap.splice(e,1).length},remove:function(dR,ap){var e=dR.indexOf(ap);if(~e){return avalon.Array.removeAt(dR,e)}return false}}});var dH=avalon.bindingHandlers={};var am=avalon.bindingExecutors={};var F=avalon.directives={};avalon.directive=function(e,ap){dH[e]=ap.init=(ap.init||l);am[e]=ap.update=(ap.update||l);return F[e]=ap};function a8(dS){if(!dS){return false}var dT=dS.length;if(dT===(dT>>>0)){var ap=c0.call(dS).slice(8,-1);if(/(?:regexp|string|function|window|global)$/i.test(ap)){return false}if(ap==="Array"){return true}try{if({}.propertyIsEnumerable.call(dS,"length")===false){return/^\s?function/.test(dS.item||dS.callee)}return true}catch(dR){return !dS.window}}return false}var i=new function(){function e(dR){this.size=0;this.limit=dR;this.head=this.tail=void 0;this._keymap={}}var ap=e.prototype;ap.put=function(dR,dT){var dS={key:dR,value:dT};this._keymap[dR]=dS;if(this.tail){this.tail.newer=dS;dS.older=this.tail}else{this.head=dS}this.tail=dS;if(this.size===this.limit){this.shift()}else{this.size++}return dT};ap.shift=function(){var dR=this.head;if(dR){this.head=this.head.newer;this.head.older=dR.newer=dR.older=this._keymap[dR.key]=void 0}};ap.get=function(dR){var dS=this._keymap[dR];if(dS===void 0){return}if(dS===this.tail){return dS.value}if(dS.newer){if(dS===this.head){this.head=dS.newer}dS.newer.older=dS.older}if(dS.older){dS.older.newer=dS.newer}dS.newer=void 0;dS.older=this.tail;if(this.tail){this.tail.newer=dS}this.tail=dS;return dS.value};return e};if(!"司徒正美".trim){var Q=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(Q,"")}}var dP=!({"toString":null}).propertyIsEnumerable("toString"),bA=(function(){}).propertyIsEnumerable("prototype"),C=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],aE=C.length;if(!Object.keys){Object.keys=function(dR){var dT=[];var dX=bA&&typeof dR==="function";if(typeof dR==="string"||(dR&&dR.callee)){for(var dV=0;dV<dR.length;++dV){dT.push(String(dV))}}else{for(var e in dR){if(!(dX&&e==="prototype")&&cr.call(dR,e)){dT.push(String(e))}}}if(dP){var dW=dR.constructor,ap=dW&&dW.prototype===dR;for(var dU=0;dU<aE;dU++){var dS=C[dU];if(!(ap&&dS==="constructor")&&cr.call(dR,dS)){dT.push(dS)}}}return dT}}if(!Array.isArray){Array.isArray=function(e){return c0.call(e)==="[object Array]"}}if(!l.bind){Function.prototype.bind=function(dR){if(arguments.length<2&&dR===void 0){return this}var ap=this,e=arguments;return function(){var dS=[],dT;for(dT=1;dT<e.length;dT++){dS.push(e[dT])}for(dT=0;dT<arguments.length;dT++){dS.push(arguments[dT])}return ap.apply(dR,dS)}}}function bO(dS,e,dR){var ap="for(var "+dS+"i=0,n = this.length; i < n; i++){"+e.replace("_","((i in this) && fn.call(scope,this[i],i,this))")+"}"+dR;return Function("fn,scope",ap)}if(!at.test([].map)){avalon.mix(dd,{indexOf:function(dR,e){var dS=this.length,ap=~~e;if(ap<0){ap+=dS}for(;ap<dS;ap++){if(this[ap]===dR){return ap}}return -1},lastIndexOf:function(dR,e){var dS=this.length,ap=e==null?dS-1:e;if(ap<0){ap=Math.max(0,dS+ap)}for(;ap>=0;ap--){if(this[ap]===dR){return ap}}return -1},forEach:bO("","_",""),filter:bO("r=[],j=0,","if(_)r[j++]=this[i]","return r"),map:bO("r=[],","r[i]=_","return r"),some:bO("","if(_)return true","return false"),every:bO("","if(!_)return false","return true")})}function u(ap,dR){try{while((dR=dR.parentNode)){if(dR===ap){return true}}return false}catch(dS){return false}}avalon.contains=u;if(!cX.contains){cX.contains=function(e){return u(cX,e)}}function s(){return new XMLSerializer().serializeToString(this)}if(cl.SVGElement){if(!cX.createTextNode("x").contains){Node.prototype.contains=function(e){return !!(this.compareDocumentPosition(e)&16)}}var bs="http://www.w3.org/2000/svg";var b6=cX.createElementNS(bs,"svg");b6.innerHTML='<circle cx="50" cy="50" r="40" fill="red" />';if(!aA.test(b6.firstChild)){function cf(dT,dU){if(dT&&dT.childNodes){var ap=dT.childNodes;for(var dR=0,dS;dS=ap[dR++];){if(dS.tagName){var e=cX.createElementNS(bs,dS.tagName.toLowerCase());dd.forEach.call(dS.attributes,function(dV){e.setAttribute(dV.name,dV.value)});cf(dS,e);dU.appendChild(e)}}}}Object.defineProperties(SVGElement.prototype,{"outerHTML":{enumerable:true,configurable:true,get:s,set:function(ap){var e=this.tagName.toLowerCase(),dR=this.parentNode,dT=avalon.parseHTML(ap);if(e==="svg"){dR.insertBefore(dT,this)}else{var dS=cX.createDocumentFragment();cf(dT,dS);dR.insertBefore(dS,this)}dR.removeChild(this)}},"innerHTML":{enumerable:true,configurable:true,get:function(){var ap=this.outerHTML;var e=new RegExp("<"+this.nodeName+'\\b(?:(["\'])[^"]*?(\\1)|[^>])*>',"i");var dR=new RegExp("</"+this.nodeName+">$","i");return ap.replace(e,"").replace(dR,"")},set:function(e){if(avalon.clearHTML){avalon.clearHTML(this);var ap=avalon.parseHTML(e);cf(ap,this)}}}})}}if(!dq.outerHTML&&cl.HTMLElement){HTMLElement.prototype.__defineGetter__("outerHTML",s)}var dk=/^(?:mouse|contextmenu|drag)|click/;function cH(dS){var e={};for(var ap in dS){e[ap]=dS[ap]}var dU=e.target=dS.srcElement;if(dS.type.indexOf("key")===0){e.which=dS.charCode!=null?dS.charCode:dS.keyCode}else{if(dk.test(dS.type)){var dT=dU.ownerDocument||cX;var dR=dT.compatMode==="BackCompat"?dT.body:dT.documentElement;e.pageX=dS.clientX+(dR.scrollLeft>>0)-(dR.clientLeft>>0);e.pageY=dS.clientY+(dR.scrollTop>>0)-(dR.clientTop>>0);e.wheelDeltaY=e.wheelDelta;e.wheelDeltaX=0}}e.timeStamp=new Date()-0;e.originalEvent=dS;e.preventDefault=function(){dS.returnValue=false};e.stopPropagation=function(){dS.cancelBubble=true};return e}var bK=avalon.eventHooks;if(!("onmouseenter" in dq)){avalon.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(ap,e){bK[ap]={type:e,deel:function(dT,dR,dS){return function(dV){var dU=dV.relatedTarget;if(!dU||(dU!==dT&&!(dT.compareDocumentPosition(dU)&16))){delete dV.type;dV.type=ap;return dS.call(dT,dV)}}}}})}avalon.each({AnimationEvent:"animationend",WebKitAnimationEvent:"webkitAnimationEnd"},function(e,ap){if(cl[e]&&!bK.animationend){bK.animationend={type:ap}}});if(!("oninput" in cX.createElement("input"))){bK.input={type:"propertychange",deel:function(dR,e,ap){return function(dS){if(dS.propertyName==="value"){dS.type="input";return ap.call(dR,dS)}}}}}if(cX.onmousewheel===void 0){var cw=cX.onwheel!==void 0?"wheel":"DOMMouseScroll";var bI=cw==="wheel"?"deltaY":"detail";bK.mousewheel={type:cw,deel:function(dR,e,ap){return function(dS){dS.wheelDeltaY=dS.wheelDelta=dS[bI]>0?-120:120;dS.wheelDeltaX=0;if(Object.defineProperty){Object.defineProperty(dS,"type",{value:"mousewheel"})}ap.call(dR,dS)}}}}function aB(e){for(var ap in e){if(!cr.call(e,ap)){continue}var dR=e[ap];if(typeof aB.plugins[ap]==="function"){aB.plugins[ap](dR)}else{if(typeof aB[ap]==="object"){avalon.mix(aB[ap],dR)}else{aB[ap]=dR}}}return this}var c1,bD,an,aQ,bk,ad=/[-.*+?^${}()|[\]\/\\]/g;function cq(e){return(e+"").replace(ad,"\\$&")}var dM={loader:function(ap){var e=r&&ap;cl.require=e?r:av;cl.define=e?r.define:ao},interpolate:function(dS){c1=dS[0];bD=dS[1];if(c1===bD){throw new SyntaxError("openTag!==closeTag");var dR=c1+"test"+bD;dF.innerHTML=dR;if(dF.innerHTML!==dR&&dF.innerHTML.indexOf("&lt;")>-1){throw new SyntaxError("此定界符不合法")}dF.innerHTML=""}var e=cq(c1),ap=cq(bD);an=new RegExp(e+"(.*?)"+ap);aQ=new RegExp(e+"(.*?)"+ap,"g");bk=new RegExp(e+".*?"+ap+"|\\sms-")}};aB.async=true;aB.debug=true;aB.plugins=dM;aB.plugins["interpolate"](["{{","}}"]);aB.paths={};aB.shim={};aB.maxRepeatSize=100;avalon.config=aB;function a4(dS,dT){var dR=this.$events||(this.$events={});var e=dR[dS]||(dR[dS]=[]);if(typeof dT==="function"){var ap=dT;ap.uuid=Math.random();dT={element:dq,type:"user-watcher",handler:l,vmodels:[this],expr:dS,uuid:ap.uuid};dT.wildcard=/\*/.test(dS)}if(!dT.update){if(/\w\.*\B/.test(dS)){dT.getter=l;dT.update=function(dU){var dV=this.fireArgs||[];if(dV[2]){dT.handler.apply(this,dV)}delete this.fireArgs};e.sync=true;avalon.Array.ensure(e,dT)}else{avalon.injectBinding(dT)}if(ap){dT.handler=ap}}else{avalon.Array.ensure(e,dT)}return function(){dT.update=dT.getter=dT.handler=l;dT.element=cX.createElement("a")}}function bc(dR,ap){var dT=this.$events;if(dT&&dT[dR]){if(ap){ap[2]=dR}dc(dT[dR],ap);var dS=this.$up;if(dS&&dS.$event){if(this.$pathname){bc.call(dS,this.$pathname+"."+dR,ap)}bc.call(dS,"*."+dR,ap)}}else{dS=this.$up;if(dS){var dU=this.$pathname+"."+dR;var e=dU.split(".");if(e.indexOf("*")===-1){bc.call(dS,dU,ap);e[1]="*";bc.call(dS,e.join("."),ap)}else{bc.call(dS,dU,ap)}}}}function dz(dR,ap){do{if(dR.$watch){var dS=dR.$events||(dR.$events={});var dT=dS[ap]||(dS[ap]=[]);cQ.collectDependency(dT);return}dR=dR.$up;if(dR){ap=dR.$pathname+"."+ap}else{break}}while(true)}function dc(dR,e){if(!dR){return}if(new Date()-cj>444&&typeof dR[0]==="object"){a9()}var dV=[],dU=[];for(var ap=0,dT;dT=dR[ap++];){if(dT.type==="user-watcher"){dV.push(dT)}else{dU.push(dT)}}if(aB.async){dG.render();for(ap=0;dT=dU[ap++];){if(dT.update){var dS=O(dT);if(!dG.queue[dS]){dG.queue[dS]=1;dG.queue.push(dT)}}}}else{for(ap=0;dT=dU[ap++];){if(dT.update){dT.update()}}}for(ap=0;dT=dV[ap++];){if(e&&e[2]===dT.expr||dT.wildcard){dT.fireArgs=e}dT.update()}}var dm=avalon.vmodels={};avalon.define=function(e){var dR=e.$id;if(!dR){cL("warning: vm必须指定$id")}var ap=cF(e);ap.$id=dR;return dm[dR]=ap};var ch=dI("$id,$watch,$fire,$events,$model,$skipArray,$active,$pathname,$up,$track,$accessors");var c2=Object.defineProperty;var bG=true;try{c2({},"_",{value:"x"});var t=Object.defineProperties}catch(cz){bG=false}function cF(ap,e){e=e||{};e.watch=true;return dE(ap,e)}function by(){}function dE(e,d3){if(!e||(e.$id&&e.$accessors)){return e}d3=d3||v;var dS=d3.force||v;var dT=d3.old;var dZ=typeof dT==="object"?dT.$accessors:v;var dU=new by();var dW={};var dX={};var d1=[];var dR=[];var d2={};if(e.$skipArray){d2=dI(e.$skipArray);delete e.$skipArray}var dV=e.$computed;if(dV){delete e.$computed;for(var ap in dV){dX[ap]=true;(function(d5,d6){var d4;dW[d5]={get:function(){return d4=d6.get.call(this)},set:function(d7){if(typeof d6.set==="function"){var d9=d4;d6.set.call(this,d7);var d8=this[d5];if(this.$fire&&(d8!==d9)){this.$fire(d5,d8,d9)}}},enumerable:true,configurable:true}})(ap,dV[ap])}}for(ap in e){var d0=e[ap];if(!ch[ap]){dX[ap]=true}if(typeof d0==="function"||(d0&&d0.nodeType)||(!dS[ap]&&(ap.charAt(0)==="$"||ch[ap]||d2[ap]))){d1.push(ap)}else{if(dp(d0)){cL("warning:计算属性建议放在$computed对象中统一定义");(function(d5,d6){var d4;dW[d5]={get:function(){return d4=d6.get.call(this)},set:function(d7){if(typeof d6.set==="function"){var d9=d4;d6.set.call(this,d7);var d8=this[d5];if(this.$fire&&(d8!==d9)){this.$fire(d5,d8,d9)}}},enumerable:true,configurable:true}})(ap,d0)}else{dR.push(ap);if(dZ[ap]){dW[ap]=dZ[ap]}else{dW[ap]=b1(ap,d0)}}}}dW["$model"]=aR;dU=t(dU,dW,e);function dY(d4){return dX[d4]===true}d1.forEach(function(d4){dU[d4]=e[d4]});du(dU,"$id","anonymous");du(dU,"$up",dT?dT.$up:null);du(dU,"$track",Object.keys(dX));du(dU,"$active",false);du(dU,"$pathname",dT?dT.$pathname:"");du(dU,"$accessors",dW);du(dU,"hasOwnProperty",dY);if(d3.watch){du(dU,"$watch",function(){return a4.apply(dU,arguments)});du(dU,"$fire",function(d5,d4){bc.call(dU,d5,[d4])})}dR.forEach(function(d4){var d5=dU[d4]=e[d4];if(typeof d5==="object"){d5.$up=dU;d5.$pathname=d4}bc.call(dU,d4)});for(ap in dV){d0=dU[ap]}dU.$active=true;return dU}function dp(ap){if(ap&&typeof ap==="object"){for(var e in ap){if(e!=="get"&&e!=="set"){return false}}return typeof ap.get==="function"}}function b1(ap,dR){var e;dR=NaN;return{get:function(){if(this.$active){dz(this,ap)}return dR},set:function(dT){if(dR===dT){return}var dS=dR;e=aC(dT,dR);if(e){dR=e}else{e=void 0;dR=dT}if(Object(e)===e){e.$pathname=ap;e.$up=this}if(this.$active){bc.call(this,ap,[dR,dS])}},enumerable:true,configurable:true}}function aC(dU,ap,dV,dT){if(Array.isArray(dU)){return cZ(dU,ap,dT)}else{if(avalon.isPlainObject(dU)){if(ap){var dS=cP(dU);var e=cP(ap);if(dS.join(";")===e.join(";")){for(var dR in dU){if(dU.hasOwnProperty(dR)){ap[dR]=dU[dR]}}return ap}ap.$active=false}return dE(dU,{old:ap,watch:dT})}}if(dV){return dU}}var cP=at.test(Object.key)?Object.key:function(e){var ap=[];for(var dR in e){if(e.hasOwnProperty(dR)&&!ch[dR]){ap.push(dR)}}return ap};function cZ(dW,e,dU){if(e){var dR=[0,e.length].concat(dW);e.splice.apply(e,dR);return e}else{for(var dS in be){dW[dS]=be[dS]}du(dW,"$up",null);du(dW,"$pathname","");du(dW,"$track",c3(dW.length));dW._=dE({length:NaN},{watch:true});dW._.length=dW.length;dW._.$watch("length",function(dY,dX){bc.call(dW.$up,dW.$pathname+".length",[dY,dX])});if(dU){du(dW,"$watch",function(){return a4.apply(dW,arguments)})}if(aX){Object.defineProperty(dW,"$model",aR)}else{dW.$model=cY(dW)}for(var ap=0,dV=dW.length;ap<dV;ap++){var dT=dW[ap]=aC(dW[ap],0,1,1);if(Object(dT)){dT.$up=dW}}return dW}}function du(ap,e,dR){if(bG){Object.defineProperty(ap,e,{value:dR,writable:true,enumerable:false,configurable:true})}else{ap[e]=dR}}function cY(dR){var dT=avalon.type(dR);if(dT==="array"){var dS=[];for(var e=0;e<dR.length;e++){dS[e]=cY(dR[e])}return dS}else{if(dT==="object"){var ap={};for(e in dR){if(dR.hasOwnProperty(e)){ap[e]=cY(dR[e])}}return ap}}return dR}var aR={get:function(){return cY(this)},set:l,enumerable:false,configurable:true};if(!bG){if("__defineGetter__" in avalon){c2=function(e,dR,ap){if("value" in ap){e[dR]=ap.value}if("get" in ap){e.__defineGetter__(dR,ap.get)}if("set" in ap){e.__defineSetter__(dR,ap.set)}return e};t=function(ap,e){for(var dR in e){if(e.hasOwnProperty(dR)){c2(ap,dR,e[dR])}}return ap}}if(cg){var H={};cl.execScript(["Function parseVB(code)","\tExecuteGlobal(code)","End Function"].join("\n"),"VBScript");function cD(ap,dS,dR,dT){var e=dS[dR];if(arguments.length===4){e.set.call(ap,dT)}else{return e.get.call(ap)}}t=function(dT,dS,dU){var ap=[];ap.push("\r\n\tPrivate [__data__], [__proxy__]","\tPublic Default Function [__const__](d"+aM+", p"+aM+")","\t\tSet [__data__] = d"+aM+": set [__proxy__] = p"+aM,"\t\tSet [__const__] = Me","\tEnd Function");var dW={};for(dT in dS){dW[dT]=true;ap.push("\tPublic Property Let ["+dT+"](val"+aM+")",'\t\tCall [__proxy__](Me,[__data__], "'+dT+'", val'+aM+")","\tEnd Property","\tPublic Property Set ["+dT+"](val"+aM+")",'\t\tCall [__proxy__](Me,[__data__], "'+dT+'", val'+aM+")","\tEnd Property","\tPublic Property Get ["+dT+"]","\tOn Error Resume Next","\t\tSet["+dT+'] = [__proxy__](Me,[__data__],"'+dT+'")',"\tIf Err.Number <> 0 Then","\t\t["+dT+'] = [__proxy__](Me,[__data__],"'+dT+'")',"\tEnd If","\tOn Error Goto 0","\tEnd Property")}for(dT in dU){if(dW[dT]!==true){dW[dT]=true;ap.push("\tPublic ["+dT+"]")}}for(dT in ch){if(dW[dT]!==true){dW[dT]=true;ap.push("\tPublic ["+dT+"]")}}ap.push("\tPublic ["+"hasOwnProperty"+"]");ap.push("End Class");var e=ap.join("\r\n");var dV=H[e];if(!dV){dV=bU("VBClass");cl.parseVB("Class "+dV+e);cl.parseVB(["Function "+dV+"Factory(a, b)","\tDim o","\tSet o = (New "+dV+")(a, b)","\tSet "+dV+"Factory = o","End Function"].join("\r\n"));H[e]=dV}var dR=cl[dV+"Factory"](dS,cD);return dR}}}var di=["push","pop","shift","unshift","splice"];var dQ=Array.prototype;var be={notify:function(){bc.call(this.$up,this.$pathname)},set:function(e,ap){if(((e>>>0)===e)&&this[e]!==ap){if(e>this.length){throw Error(e+"set方法的第一个参数不能大于原数组长度")}bc.call(this.$up,this.$pathname+".*",[ap,this[e]]);this.splice(e,1,ap)}},contains:function(e){return this.indexOf(e)!==-1},ensure:function(e){if(!this.contains(e)){this.push(e)}return this},pushArray:function(e){return this.push.apply(this,e)},remove:function(e){return this.removeAt(this.indexOf(e))},removeAt:function(e){if((e>>>0)===e){return this.splice(e,1)}return[]},size:function(){return this._.length},removeAll:function(dR){if(Array.isArray(dR)){for(var e=this.length-1;e>=0;e--){if(dR.indexOf(this[e])!==-1){b2.call(this,e,1);b2.call(this.$track,e,1)}}}else{if(typeof dR==="function"){for(e=this.length-1;e>=0;e--){var ap=this[e];if(dR(ap,e)){b2.call(this,e,1);b2.call(this.$track,e,1)}}}else{b2.call(this,0,this.length);b2.call(this.$track,0,this.length)}}if(!aX){this.$model=cY(this)}this.notify();this._.length=this.length},clear:function(){return this.removeAll()}};var b2=dQ.splice;di.forEach(function(ap){var e=dQ[ap];be[ap]=function(){var dS=[];for(var dT=0,dU=arguments.length;dT<dU;dT++){dS[dT]=aC(arguments[dT],0,1,1)}var dR=e.apply(this,dS);g(this.$track,ap,dS);if(!aX){this.$model=cY(this)}this.notify();this._.length=this.length;return dR}});"sort,reverse".replace(b8,function(e){be[e]=function(){var dV=this.concat();var dW=this;var dZ=Math.random();var dT=[];var dY=false;dQ[e].apply(dW,arguments);for(var dS=0,dR=dV.length;dS<dR;dS++){var dX=dW[dS];var ap=dV[dS];if(dX===ap){dT.push(dS)}else{var dU=dV.indexOf(dX);dT.push(dU);dV[dU]=dZ;dY=true}}if(dY){bw(this.$track,dT);if(!aX){this.$model=cY(this)}this.notify()}return this}});function bw(dU,ap){var dS={};for(var dR=0,dT=ap.length;dR<dT;dR++){dS[dR]=dU[dR];var e=ap[dR];if(e in dS){dU[dR]=dS[e];delete dS[e]}else{dU[dR]=dU[e]}}}function c3(dR){var e=[];for(var ap=0;ap<dR;ap++){e[ap]=bU("$proxy$each")}return e}function g(ap,dT,dR){switch(dT){case"push":case"unshift":dR=c3(dR.length);break;case"splice":if(dR.length>2){var e=dR[1];var dS=dR.length-2;dR=[dR[0],dR[1]].concat(c3(dR.length-2))}break}Array.prototype[dT].apply(ap,dR)}var cQ=(function(){var e=[];var ap;return{begin:function(dR){e.push(ap);ap=dR},end:function(){ap=e.pop()},collectDependency:function(dR){if(ap){ap.callback(dR)}}}})();var cn=/^on$/;function dB(){return new Date()-0}avalon.injectBinding=function(e){e.handler=e.handler||F[e.type].update||l;e.update=function(){var ap=false;if(!e.getter){ap=true;cQ.begin({callback:function(dZ){ah(dZ,e)}});e.getter=ct(e.expr,e.vmodels,e);e.observers.forEach(function(dZ){dZ.v.$watch(dZ.p,e)});delete e.observers}try{var dW=e.fireArgs,dY,dX;delete e.fireArgs;if(!dW){if(e.type==="on"){dY=e.getter+""}else{dY=e.getter.apply(0,e.args)}}else{dY=dW[0];dX=dW[1]}dX=typeof dX==="undefined"?e.oldValue:dX;if(e._filters){dY=bt.$filter.apply(0,[dY].concat(e._filters))}if(e.signature){var dS=avalon.type(dY);if(dS!=="array"&&dS!=="object"){throw Error("warning:"+e.expr+"只能是对象或数组")}e.xtype=dS;var dT=co(e.proxies||[],dS);var dV=dY.$track||(dS==="array"?c3(dY.length):Object.keys(dY));e.track=dV;if(dT!==dV.join(";")){e.handler(dY,dX);e.oldValue=1}}else{if(Array.isArray(dY)?dY.length!==(dX&&dX.length):false){e.handler(dY,dX);e.oldValue=dY.concat()}else{if(dY!==dX){e.handler(dY,dX);e.oldValue=dY}}}}catch(dU){delete e.getter;cL("warning:exception throwed in [avalon.injectBinding] ",dU);var dR=e.element;if(dR&&dR.nodeType===3){dR.nodeValue=c1+(e.oneTime?"::":"")+e.expr+bD}}finally{ap&&cQ.end()}};e.update()};function ah(e,ap){if(ap.oneTime){return}if(e&&avalon.Array.ensure(e,ap)&&ap.element){cR(ap,e)}}function co(ap,e){var dR=[];for(var dS=0,dT;dT=ap[dS++];){dR.push(e?dT.$id:dT.$key)}return dR.join(";")}var dx=0;var dn=avalon.$$subscribers=[];var cj=new Date();var aP={};function O(ap){if(!ap.uuid){var e=ap.element;if(e){if(e.nodeType!==1){ap.uuid=ap.type+(ap.pos||0)+"-"+O(e.parentNode)}else{ap.uuid=ap.name+"-"+O(e)}}else{ap.uuid=++dx}}return ap.uuid}function cR(dS,dR){var e=dS.lists||(dS.lists=[]);var ap=O(dS);avalon.Array.ensure(e,dR);dR.$uuid=dR.$uuid||bU();if(!dn[ap]){dn[ap]=1;dn.push(dS)}}function a9(dR){var dT=dn.length;var e=dT;var dU=[];var dS={};var dX={};while(dR=dn[--dT]){var dW=dR.type;if(dX[dW]){dX[dW]++}else{dX[dW]=1;dU.push(dW)}}var dY=false;dU.forEach(function(d0){if(aP[d0]!==dX[d0]){dS[d0]=1;dY=true}});dT=e;if(dY){while(dR=dn[--dT]){if(dR.element===null){dn.splice(dT,1);continue}if(dS[dR.type]&&h(dR.element)){dn.splice(dT,1);delete dn[dR.uuid];var dZ=dR.lists;for(var ap=0,dV;dV=dZ[ap++];){avalon.Array.remove(dZ,dV);avalon.Array.remove(dV,dR)}ca(dR)}}}aP=dX;cj=new Date()}function ca(ap){delete dn[ap.uuid];ap.element=null;ap.rollback&&ap.rollback();for(var e in ap){ap[e]=null}}function h(dR){try{var ap=dR.parentNode.nodeType}catch(dS){return true}if(dR.ifRemove){if(!dq.contains(dR.ifRemove)&&(aI===dR.parentNode)){dR.parentNode&&dR.parentNode.removeChild(dR);return true}}return dR.msRetain?0:(dR.nodeType===1?!dq.contains(dR):!avalon.contains(dq,dR))}var bP={area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],col:[2,"<table><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],tr:[2,"<table>","</table>"],td:[3,"<table><tr>","</tr></table>"],g:[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',"</svg>"],_default:aX?[0,"",""]:[1,"X<div>","</div>"]};bP.th=bP.td;bP.optgroup=bP.option;bP.tbody=bP.tfoot=bP.colgroup=bP.caption=bP.thead;String("circle,defs,ellipse,image,line,path,polygon,polyline,rect,symbol,text,use").replace(b8,function(e){bP[e]=bP.g});var w=/<([\w:]+)/;var dw=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig;var b9=aX?/[^\d\D]/:/(<(?:script|link|style|meta|noscript))/ig;var dj=dI(["","text/javascript","text/ecmascript","application/ecmascript","application/javascript"]);var cc=/<(?:tb|td|tf|th|tr|col|opt|leg|cap|area)/;var bY=cX.createElement("script");var ac=/<|&#?\w+;/;avalon.parseHTML=function(dV){var dX=cx.cloneNode(false);if(typeof dV!=="string"){return dX}if(!ac.test(dV)){dX.appendChild(cX.createTextNode(dV));return dX}dV=dV.replace(dw,"<$1></$2>").trim();var d0=(w.exec(dV)||["",""])[1].toLowerCase(),ap=bP[d0]||bP._default,e=dF,dY,dZ;if(!aX){dV=dV.replace(b9,"<br class=msNoScope>$1")}e.innerHTML=ap[1]+dV+ap[2];var dT=e.getElementsByTagName("script");if(dT.length){for(var dU=0,dR;dR=dT[dU++];){if(dj[dR.type]){dZ=bY.cloneNode(false);dd.forEach.call(dR.attributes,function(d1){if(d1&&d1.specified){dZ[d1.name]=d1.value;dZ.setAttribute(d1.name,d1.value)}});dZ.text=dR.text;dR.parentNode.replaceChild(dZ,dR)}}}if(!aX){var dW=ap[1]==="X<div>"?e.lastChild.firstChild:e.lastChild;if(dW&&dW.tagName==="TABLE"&&d0!=="tbody"){for(dT=dW.childNodes,dU=0;dR=dT[dU++];){if(dR.tagName==="TBODY"&&!dR.innerHTML){dW.removeChild(dR);break}}}dT=e.getElementsByTagName("br");var dS=dT.length;while(dR=dT[--dS]){if(dR.className==="msNoScope"){dR.parentNode.removeChild(dR)}}for(dT=e.all,dU=0;dR=dT[dU++];){if(y(dR)){bj(dR)}}}for(dU=ap[0];dU--;e=e.lastChild){}while(dY=e.firstChild){dX.appendChild(dY)}return dX};function y(e){var ap=e.nodeName;return ap.toLowerCase()===ap&&e.scopeName&&e.outerText===""}function bj(e){if(e.currentStyle.behavior!=="url(#default#VML)"){e.style.behavior="url(#default#VML)";e.style.display="inline-block";e.style.zoom=1}}avalon.innerHTML=function(dS,dR){if(!aX&&(!b9.test(dR)&&!cc.test(dR))){try{dS.innerHTML=dR;return}catch(dT){}}var ap=this.parseHTML(dR);this.clearHTML(dS).appendChild(ap)};avalon.clearHTML=function(e){e.textContent="";while(e.firstChild){e.removeChild(e.firstChild)}return e};function bL(e){return e.replace(/([a-z\d])([A-Z]+)/g,"$1-$2").toLowerCase()}function m(e){if(!e||e.indexOf("-")<0&&e.indexOf("_")<0){return e}return e.replace(/[-_][^-_]/g,function(ap){return ap.charAt(1).toUpperCase()})}var aa={_toString:function(){var ap=this.node;var e=ap.className;var dR=typeof e==="string"?e:e.baseVal;return dR.split(/\s+/).join(" ")},_contains:function(e){return(" "+this+" ").indexOf(" "+e+" ")>-1},_add:function(e){if(!this.contains(e)){this._set(this+" "+e)}},_remove:function(e){this._set((" "+this+" ").replace(" "+e+" "," "))},__set:function(e){e=e.trim();var ap=this.node;if(aA.test(ap)){ap.setAttribute("class",e)}else{ap.className=e}}};function bE(ap){if(!("classList" in ap)){ap.classList={node:ap};for(var e in aa){ap.classList[e.slice(1)]=aa[e]}}return ap.classList}"add,remove".replace(b8,function(e){avalon.fn[e+"Class"]=function(ap){var dR=this[0];if(ap&&typeof ap==="string"&&dR&&dR.nodeType===1){ap.replace(/\S+/g,function(dS){bE(dR)[e](dS)})}return this}});avalon.fn.mix({hasClass:function(e){var ap=this[0]||{};return ap.nodeType===1&&bE(ap).contains(e)},toggleClass:function(dU,dR){var dS,ap=0;var dV=String(dU).split(/\s+/);var e=typeof dR==="boolean";while((dS=dV[ap++])){var dT=e?dR:!this.hasClass(dS);this[dT?"addClass":"removeClass"](dS)}return this},attr:function(e,ap){if(arguments.length===2){this[0].setAttribute(e,ap);return this}else{return this[0].getAttribute(e)}},data:function(ap,dR){ap="data-"+bL(ap||"");switch(arguments.length){case 2:this.attr(ap,dR);return this;case 1:var dS=this.attr(ap);return dA(dS);case 0:var e={};dd.forEach.call(this[0].attributes,function(dT){if(dT){ap=dT.name;if(!ap.indexOf("data-")){ap=m(ap.slice(5));e[ap]=dA(dT.value)}}});return e}},removeData:function(e){e="data-"+bL(e);this[0].removeAttribute(e);return this},css:function(ap,dS){if(avalon.isPlainObject(ap)){for(var dR in ap){avalon.css(this,dR,ap[dR])}}else{var e=avalon.css(this,ap,dS)}return e!==void 0?e:this},position:function(){var dR,dS,ap=this[0],e={top:0,left:0};if(!ap){return}if(this.css("position")==="fixed"){dS=ap.getBoundingClientRect()}else{dR=this.offsetParent();dS=this.offset();if(dR[0].tagName!=="HTML"){e=dR.offset()}e.top+=avalon.css(dR[0],"borderTopWidth",true);e.left+=avalon.css(dR[0],"borderLeftWidth",true);e.top-=dR.scrollTop();e.left-=dR.scrollLeft()}return{top:dS.top-e.top-avalon.css(ap,"marginTop",true),left:dS.left-e.left-avalon.css(ap,"marginLeft",true)}},offsetParent:function(){var e=this[0].offsetParent;while(e&&avalon.css(e,"position")==="static"){e=e.offsetParent}return avalon(e||dq)},bind:function(dR,ap,e){if(this[0]){return avalon.bind(this[0],dR,ap,e)}},unbind:function(dR,ap,e){if(this[0]){avalon.unbind(this[0],dR,ap,e)}return this},val:function(dT){var dS=this[0];if(dS&&dS.nodeType===1){var ap=arguments.length===0;var e=ap?":get":":set";var dR=aZ[ds(dS)+e];if(dR){var dU=dR(dS,dT)}else{if(ap){return(dS.value||"").replace(/\r/g,"")}else{dS.value=dT}}}return ap?dU:this}});function dA(ap){try{if(typeof ap==="object"){return ap}ap=ap==="true"?true:ap==="false"?false:ap==="null"?null:+ap+""===ap?+ap:cS.test(ap)?avalon.parseJSON(ap):ap}catch(dR){}return ap}var cS=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,cC=/^[\],:{}\s]*$/,cG=/(?:^|:|,)(?:\s*\[)+/g,c4=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,cd=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;avalon.parseJSON=cl.JSON?JSON.parse:function(e){if(typeof e==="string"){e=e.trim();if(e){if(cC.test(e.replace(c4,"@").replace(cd,"]").replace(cG,""))){return(new Function("return "+e))()}}avalon.error("Invalid JSON: "+e)}return e};avalon.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(ap,e){avalon.fn[ap]=function(dU){var dR=this[0]||{},dT=cN(dR),dS=ap==="scrollTop";if(!arguments.length){return dT?(e in dT)?dT[e]:dq[ap]:dR[ap]}else{if(dT){dT.scrollTo(!dS?dU:avalon(dT).scrollLeft(),dS?dU:avalon(dT).scrollTop())}else{dR[ap]=dU}}}});function cN(e){return e.window&&e.document?e:e.nodeType===9?e.defaultView||e.parentWindow:false}var x=avalon.cssHooks={};var bT=["","-webkit-","-o-","-moz-","-ms-"];var cb={"float":aX?"cssFloat":"styleFloat"};avalon.cssNumber=dI("animationIterationCount,columnCount,order,flex,flexGrow,flexShrink,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom");avalon.cssName=function(e,dS,dR){if(cb[e]){return cb[e]}dS=dS||dq.style;for(var ap=0,dT=bT.length;ap<dT;ap++){dR=m(bT[ap]+e);if(dR in dS){return(cb[e]=dR)}}return null};x["@:set"]=function(dR,ap,dS){try{dR.style[ap]=dS}catch(dT){}};if(cl.getComputedStyle){x["@:get"]=function(dS,ap){if(!dS||!dS.style){throw new Error("getComputedStyle要求传入一个节点 "+dS)}var e,dR=getComputedStyle(dS,null);if(dR){e=ap==="filter"?dR.getPropertyValue(ap):dR[ap];if(e===""){e=dS.style[ap]}}return e};x["opacity:get"]=function(ap){var e=x["@:get"](ap,"opacity");return e===""?"1":e}}else{var aw=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i;var cI=/^(top|right|bottom|left)$/;var cB=/alpha\([^)]*\)/i;var Z=!!cl.XDomainRequest;var dO="DXImageTransform.Microsoft.Alpha";var ai={thin:Z?"1px":"2px",medium:Z?"3px":"4px",thick:Z?"5px":"6px"};x["@:get"]=function(dU,dS){var dR=dU.currentStyle;var ap=dR[dS];if((aw.test(ap)&&!cI.test(ap))){var dT=dU.style,dV=dT.left,e=dU.runtimeStyle.left;dU.runtimeStyle.left=dR.left;dT.left=dS==="fontSize"?"1em":(ap||0);ap=dT.pixelLeft+"px";dT.left=dV;dU.runtimeStyle.left=e}if(ap==="medium"){dS=dS.replace("Width","Style");if(dR[dS]==="none"){ap="0px"}}return ap===""?"auto":ai[ap]||ap};x["opacity:set"]=function(dT,ap,dU){var dS=dT.style;var e=isFinite(dU)&&dU<=1?"alpha(opacity="+dU*100+")":"";var dR=dS.filter||"";dS.zoom=1;dS.filter=(cB.test(dR)?dR.replace(cB,e):dR+" "+e).trim();if(!dS.filter){dS.removeAttribute("filter")}};x["opacity:get"]=function(e){var ap=e.filters.alpha||e.filters[dO],dR=ap&&ap.enabled?ap.opacity:100;return(dR/100)+""}}"top,left".replace(b8,function(e){x[e+":get"]=function(dR){var ap=x["@:get"](dR,e);return/px$/.test(ap)?ap:avalon(dR).position()[e]+"px"}});var cu={position:"absolute",visibility:"hidden",display:"block"};var W=/^(none|table(?!-c[ea]).+)/;function ae(dR,dT){if(dR.offsetWidth<=0){if(W.test(x["@:get"](dR,"display"))){var dS={node:dR};for(var e in cu){dS[e]=dR.style[e];dR.style[e]=cu[e]}dT.push(dS)}var ap=dR.parentNode;if(ap&&ap.nodeType===1){ae(ap,dT)}}}"Width,Height".replace(b8,function(dR){var dT=dR.toLowerCase(),ap="client"+dR,e="scroll"+dR,dS="offset"+dR;x[dT+":get"]=function(dW,dX,dV){var dY=-4;if(typeof dV==="number"){dY=dV}dX=dR==="Width"?["Left","Right"]:["Top","Bottom"];var dU=dW[dS];if(dY===2){return dU+avalon.css(dW,"margin"+dX[0],true)+avalon.css(dW,"margin"+dX[1],true)}if(dY<0){dU=dU-avalon.css(dW,"border"+dX[0]+"Width",true)-avalon.css(dW,"border"+dX[1]+"Width",true)}if(dY===-4){dU=dU-avalon.css(dW,"padding"+dX[0],true)-avalon.css(dW,"padding"+dX[1],true)}return dU};x[dT+"&get"]=function(dV){var dW=[];ae(dV,dW);var dY=x[dT+":get"](dV);for(var dU=0,dX;dX=dW[dU++];){dV=dX.node;for(var dZ in dX){if(typeof dX[dZ]==="string"){dV.style[dZ]=dX[dZ]}}}return dY};avalon.fn[dT]=function(dV){var dU=this[0];if(arguments.length===0){if(dU.setTimeout){return dU["inner"+dR]||dU.document.documentElement[ap]}if(dU.nodeType===9){var dW=dU.documentElement;return Math.max(dU.body[e],dW[e],dU.body[dS],dW[dS],dW[ap])}return x[dT+"&get"](dU)}else{return this.css(dT,dV)}};avalon.fn["inner"+dR]=function(){return x[dT+":get"](this[0],void 0,-2)};avalon.fn["outer"+dR]=function(dU){return x[dT+":get"](this[0],void 0,dU===true?2:0)}});avalon.fn.offset=function(){var ap=this[0],dT={left:0,top:0};if(!ap||!ap.tagName||!ap.ownerDocument){return dT}var dY=ap.ownerDocument,dU=dY.body,dX=dY.documentElement,dV=dY.defaultView||dY.parentWindow;if(!avalon.contains(dX,ap)){return dT}if(ap.getBoundingClientRect){dT=ap.getBoundingClientRect()}var dS=dX.clientTop||dU.clientTop,dW=dX.clientLeft||dU.clientLeft,e=Math.max(dV.pageYOffset||0,dX.scrollTop,dU.scrollTop),dR=Math.max(dV.pageXOffset||0,dX.scrollLeft,dU.scrollLeft);return{top:dT.top+e-dS,left:dT.left+dR-dW}};function ds(ap){var e=ap.tagName.toLowerCase();return e==="input"&&/checkbox|radio/.test(ap.type)?"checked":e}var dh=/^<option(?:\s+\w+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s+value[\s=]/i;var aZ={"option:get":cg?function(e){return dh.test(e.outerHTML)?e.value:e.text.trim()}:function(e){return e.value},"select:get":function(e,dW){var dR,dY=e.options,dT=e.selectedIndex,dU=aZ["option:get"],dS=e.type==="select-one"||dT<0,dX=dS?null:[],dV=dS?dT+1:dY.length,ap=dT<0?dV:dS?dT:0;for(;ap<dV;ap++){dR=dY[ap];if((dR.selected||ap===dT)&&!dR.disabled){dW=dU(dR);if(dS){return dW}dX.push(dW)}}return dX},"select:set":function(dT,ap,dU){ap=[].concat(ap);var e=aZ["option:get"];for(var dR=0,dS;dS=dT.options[dR++];){if((dS.selected=ap.indexOf(e(dS))>-1)){dU=true}}if(!dU){dT.selectedIndex=-1}}};var dK={};var ce=["break,case,catch,continue,debugger,default,delete,do,else,false","finally,for,function,if,in,instanceof,new,null,return,switch,this","throw,true,try,typeof,var,void,while,with","abstract,boolean,byte,char,class,const,double,enum,export,extends","final,float,goto,implements,import,int,interface,long,native","package,private,protected,public,short,static,super,synchronized","throws,transient,volatile","arguments,let,yield,undefined"].join(",");ce.replace(/\w+/g,function(e){dK[e]=true});var b4=/\[(['"]?)([^'"]+)\1\]/;var cA=function(e){return(e===36)||(e===95)||(e>=65&&e<=90)||(e>=97&&e<=122)};function aY(ap,dS,e,dR){return ap.slice(0,dS)+"."+ap.slice(dS).replace("["+e+"]",dR)}function T(dZ){var d9=0;var d2=0;var d4={};var e="";var d8=[];var d7=false;var dW=function(ef){if(d2<0){return}var ec=d9;var ee=dZ.slice(d2,ec);var ed=d2+"-"+(ec-1);d4[ed]=ee;if(dK[ee]&&dZ.charAt(d2-1)!=="."){delete d4[ed]}if(ef){d4[d2]="*"}d2=-1};var dV=function(ed){var ef=d8.pop();var ec=ed?d9-1:d9;var ee=dZ.slice(ef,ec);try{var eh=Function("return "+ee)();eh+="";dZ=aY(dZ,ef-1,ee,eh);d9=ef+eh.length-1;d4[ef+"-"+d9]=eh;dT="word";d2=-1}catch(eg){dZ=aY(dZ,ef-1,ee,"*");d9=ef;d4[ef]="*";dT="word";d2=-1}};var dT="unknown";var dU={"unknown":function(){if(cA(d0)){dT="word";d2=d9}else{if(d0===34||d0===39){dT="string";e=d0}else{if(d0===93){dV()}}}},"word":function(){if(/\B/.test(dS)){dT="unknown";dZ=dZ.slice(0,d9)+dZ.slice(d9).replace(/\s*(\.|\[)\s*/,function(ed,ec){return ec});dS=dZ.charAt(d9);if(d0===46){dT="dot";dW();d4[d9]="."}else{if(d0===91){d4[d9]=".";dW();d8.push(d9+1)}else{if(d0===93){if(d2>0){dW(true)}else{dV(true)}}else{dW()}}}}},"dot":function(){dT="unknown";if(d0>=48&&d0<=57||d0===42||cA(d0)){dT="word";d2=d9}},"string":function(){if(d7){d7=false}else{if(d0===92){d7=true}if(d0===e){dT="unknown"}}}};var eb=dZ.length;do{var d0=dZ.charCodeAt(d9);if(d0!==d0){dW();break}if(eb--===0){break}var dS=dZ.charAt(d9);dU[dT]();d9++}while(true);var ap=[];for(d9 in d4){var d6=d4[d9];var dR=d9.split("-");ap.push({first:~~dR[0],last:~~dR[1]||~~dR[0],text:d6})}ap.sort(function(ed,ec){return ed.first-ec.first});var ea={};do{var d5=ap.shift();if(!d5){break}var d1=true;loop:for(d9 in ea){dR=d9.split("-");if(Number(dR[1])+1===d5.first){ea[dR[0]+"-"+d5.last]=ea[d9]+d5.text;delete ea[d9];d1=false;break loop}}if(d1){ea[d5.first+"-"+d5.last]=d5.text}}while(1);var dX=[];var d3={};for(d9 in ea){var dY=ea[d9];if(!d3[dY]){d3[dY]=true;dX.push(dY)}}return dX}function b5(dW,dX,ap,dY){var dV=[],dU=" = "+ap+".";for(var dR=dW.length,e;e=dW[--dR];){var dT=e.split("."),dZ;var dS=dT[0];while(dZ=dT.shift()){if(dX.hasOwnProperty(dZ)){dV.push(dS+dU+dS);dY.observers.push({v:dX,p:e});dW.splice(dR,1)}}}return dV}var dJ=/(\$proxy\$[a-z]+)\d+$/;var cM=new i(218);var bz=new i(128);function cK(ap){ap=ap.trim();var e=cM.get(ap);if(e){return e.concat()}e=T(ap);return cM.put(ap,e).concat()}function ct(e,d5,dY){if(dY.filters&&!dY._filters){dY._filters=q(dY.filters)}var dW=cK(e);var dT=new Date()-0;var dS=[];var dU=[];var ap=[];dY.observers=[];for(var d1=0,d4=d5.length;d1<d4;d1++){if(dW.length){var d8="vm"+dT+"_"+d1;dU.push(d8);ap.push(d5[d1]);dS.push.apply(dS,b5(dW,d5[d1],d8,dY))}}dY.args=ap;var dZ=dY.type;var d6=d5.map(function(d9){return String(d9.$id).replace(dJ,"$1")})+e+dZ;var dR=bz.get(d6);if(dR){if(dZ==="duplex"){var d7=bz.get(d6+"setter");dY.setter=d7.apply(d7,dY.args)}return dY.getter=dR}if(!dS.length){dS.push("fix"+dT)}if(dZ==="duplex"){var dV={};dS.forEach(function(ea){var d9=ea.split("=");dV[d9[0].trim()]=d9[1].trim()});e=e.replace(/[\$\w]+/,function(d9){return dV[d9]?dV[d9]:d9});var d3=Function.apply(l,dU.concat("'use strict';"+"return function(vvv){"+e+" = vvv\n}\n"));bz.put(d6+"setter",d3);dY.setter=d3.apply(d3,dY.args)}if(dZ==="on"){if(e.indexOf("(")===-1){e+=".call(this, $event)"}else{e=e.replace("(",".call(this,")}dU.push("$event");e="\nreturn "+e+";";var d2=e.lastIndexOf("\nreturn");var d0=e.slice(0,d2);var dX=e.slice(d2);e=d0+"\n"+dX}else{e="\nreturn "+e+";"}dR=Function.apply(l,dU.concat("'use strict';\nvar "+dS.join(",\n")+e));return bz.put(d6,dR)}function aD(ap){var e=an.test(ap);if(e){var dR=da(ap);if(dR.length===1){return dR[0].expr}return dR.map(function(dS){return dS.type?"("+dS.expr+")":az(dS.expr)}).join(" + ")}else{return ap}}function dy(dR,ap,dS){avalon.log("parseExprProxy方法即将被废弃");var e=dS.evaluator=ct(dR,ap,dS);if(e){dS.handler=am[dS.handlerName||dS.type];avalon.injectBinding(dS)}}var aU=/\)\s*$/;var bW=/\)\s*\|/g;var k=/\|\s*([$\w]+)/g;var cm=/"\s*\["/g;var J=/"\s*\(/g;function q(e){e=e.replace(aU,"").replace(bW,function(){return"],|"}).replace(k,function(dR,ap){return"["+az(ap)}).replace(cm,function(){return'"],["'}).replace(J,function(){return'",'})+"]";return Function("return ["+e+"]")()}var bR={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var az=cl.JSON&&JSON.stringify||function(e){return'"'+e.replace(/[\\\"\x00-\x1f]/g,function(ap){var dR=bR[ap];return typeof dR==="string"?dR:"\\u"+("0000"+ap.charCodeAt(0).toString(16)).slice(-4)})+'"'};avalon.scan=function(ap,dR){ap=ap||dq;var e=dR?[].concat(dR):[];bQ(ap,e)};var bl=dI("area,base,basefont,br,col,command,embed,hr,img,input,link,meta,param,source,track,wbr,noscript,script,style,textarea".toUpperCase());function d(e,dS,dR){var ap=setTimeout(function(){var dT=e.innerHTML;clearTimeout(ap);if(dT===dR){dS()}else{d(e,dS,dT)}})}function V(e,ap){var dR=e.getAttribute("avalonctrl")||ap.$id;e.setAttribute("avalonctrl",dR);if(ap.$events){ap.$events.expr=e.tagName+'[avalonctrl="'+dR+'"]'}}var a3=function(dT,ap,e){var dU=dT.getAttribute(ap);if(dU){for(var dR=0,dS;dS=e[dR++];){if(dS.hasOwnProperty(dU)&&typeof dS[dU]==="function"){return dS[dU]}}}};function db(dS,e){for(var ap=0,dR;dR=dS[ap++];){dR.vmodels=e;F[dR.type].init(dR);avalon.injectBinding(dR);if(dR.getter&&dR.element.nodeType===1){dR.element.removeAttribute(dR.name)}}dS.length=0}var bg=cg&&cl.MutationObserver?function(dR){var ap=dR.firstChild,dS;while(ap){var e=ap.nextSibling;if(ap.nodeType===3){if(dS){dS.nodeValue+=ap.nodeValue;dR.removeChild(ap)}else{dS=ap}}else{dS=null}ap=e}}:0;var aH=/^\s*::/;var bb=/ms-(\w+)-?(.*)/;var dD=dI("animationend,blur,change,input,click,dblclick,focus,keydown,keypress,keyup,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,scan,scroll,submit");var cV=dI("value,title,alt,checked,selected,disabled,readonly,enabled,href,src");function M(ap,e){return ap.priority-e.priority}function ck(d5,d4,dU){var ap=true;if(d4.length){var dV=P?P(d5):d5.attributes;var d7=[];var d6=[];var dY={};var dZ={};for(var d3=0,d2;d2=dV[d3++];){if(d2.specified){if(dU=d2.name.match(bb)){var dS=dU[1];var dT=dU[2]||"";var d1=d2.value;var d8=d2.name;if(dZ[d8]){continue}dZ[d8]=1;if(dD[dS]){dT=dS;dS="on"}else{if(cV[dS]){if(dS==="enabled"){cL("warning!ms-enabled或ms-attr-enabled已经被废弃");dS="disabled";d1="!("+d1+")"}dT=dS;dS="attr";d8="ms-"+dS+"-"+dT;d6.push([d2.name,d8,d1])}}dY[d8]=d1;if(F[dS]){var dX=d1.replace(aH,"");var dR=d1!==dX;var d0={type:dS,param:dT,element:d5,name:d8,expr:dX,oneTime:dR,uuid:d2.name+"-"+O(d5),priority:(F[dS].priority||dS.charCodeAt(0)*10)+(Number(dT.replace(/\D/g,""))||0)};if(dS==="html"||dS==="text"){var dW=p(d1).filters;d0.expr=d0.expr.replace(dW,"");d0.filters=dW.replace(dL,function(){d0.type="html";d0.group=1;return""})}else{if(dS==="duplex"){var e=d8}else{if(d8==="ms-if-loop"){d0.priority+=100}}}d7.push(d0);if(dS==="widget"){d5.msData=d5.msData||dY}}}}}if(d7.length){d7.sort(M);d6.forEach(function(d9){cL("warning!请改用"+d9[1]+"代替"+d9[0]+"!");d5.removeAttribute(d9[0]);d5.setAttribute(d9[1],d9[2])});if(e&&dY["ms-attr-value"]&&d5.nodeName==="INPUT"&&d5.type==="text"){cL("warning!一个控件不能同时定义ms-attr-value与"+e)}for(d3=0;d0=d7[d3];d3++){dS=d0.type;if(bx.test(dS)){return db(d7.slice(0,d3+1),d4)}else{if(ap){ap=!dC.test(dS)}}}db(d7,d4)}}if(ap&&!bl[d5.tagName]&&(b0(d5)?d5.msResolved:1)){bg&&bg(d5);aS(d5,d4)}}var bx=/^if|widget|repeat$/;var dC=/^each|with|html|include$/;if(!"1"[0]){var c8=new i(512);var bV=/\s+(ms-[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,cp=/^['"]/,bF=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/i,U=/&amp;/g;var P=function(ap){var dT=ap.outerHTML;if(dT.slice(0,2)==="</"||!dT.trim()){return[]}var dX=dT.match(bF)[0];var dS=[],dU,dR,dY;var dV=c8.get(dX);if(dV){return dV}while(dR=bV.exec(dX)){dY=dR[2];if(dY){dY=(cp.test(dY)?dY.slice(1,-1):dY).replace(U,"&")}var e=dR[1].toLowerCase();dU=e.match(bb);var dW={name:e,specified:true,value:dY||""};dS.push(dW)}return c8.put(dX,dS)}}function aS(dR,ap){var e=avalon.slice(dR.childNodes);a1(e,ap)}var R=[];function a1(e,ap){for(var dU=0,dR;dR=e[dU++];){switch(dR.nodeType){case 1:var dS=dR,dW;bQ(dR,ap);if(!dS.msResolved&&dS.parentNode&&dS.parentNode.nodeType===1){var dX=b0(dS);if(dX&&avalon.libraries[dX]){var dV=dS.localName?dS.localName.replace(dX+":",""):dS.nodeName;var dT=dX+":"+m(dV);ar.push({library:dX,element:dS,fullName:dT,widget:dV,vmodels:ap,name:"widget"});if(avalon.components[dT]){avalon.component(dT)}}}if(dR.msHasEvent){avalon.fireDom(dR,"datasetchanged",{bubble:dR.msHasEvent})}break;case 3:if(an.test(dR.nodeValue)){D(dR,ap,dU)}break}}}var ar=[];var Y={$construct:function(){return avalon.mix.apply(null,arguments)},$ready:l,$init:l,$dispose:l,$childReady:l,$container:null,$replace:false,$extends:null,$$template:function(e){return e}};avalon.components={};avalon.component=function(e,dR){if(dR){avalon.components[e]=avalon.mix({},Y,dR)}for(var ap=0,dS;dS=ar[ap];ap++){if(e===dS.fullName){ar.splice(ap,1);ap--;(function(d9,dW,eh,dZ){var d6=1;var ed=d9.library;var ef=avalon.libraries[ed];var d7=cW(d9.vmodels,eh.getAttribute("configs")||d9.fullName);var d4=avalon.getWidgetData(eh,dZ);var d2;if(dW.$extends){var ei=avalon.components[dW.$extends];if(ei){d2=ei.$construct({},dW,d7)}}var d0=avalon.components[e].$construct({},d2||dW,d7,d4);d0.$refs={};d0.$id=eh.getAttribute("identifier")||bU(dZ);var ej=d0.$slot;var d3=d0.$replace;var eg=d0.$container;var dT=d0.$template;delete d0.$slot;delete d0.$replace;delete d0.$container;delete d0.$template;delete d0.$construct;var ee=avalon.define(d0)||{};eh.msResolved=1;ee.$init(ee,eh);ef.$init(ee,eh);var eb=eh.childNodes;var d5={},ea;for(var d8=0,dV;dV=eb[d8++];){var dX=dV.nodeType===1&&dV.getAttribute("slot")||ej;if(dX){if(d5[dX]){d5[dX].push(dV)}else{d5[dX]=[dV]}}}avalon.clearHTML(eh);eh.innerHTML=ee.$$template(dT);for(d8 in d5){if(ee.hasOwnProperty(d8)){var ec=d5[d8];if(ec.length){var dU=cx.cloneNode(true);for(var ek=0;ea=ec[ek++];){dU.appendChild(ea)}ee[d8]=dU}d5[d8]=null}}d5=null;var d1=eh.firstChild;if(d3){d1=eh.firstChild;eh.parentNode.replaceChild(d1,eh);d1.msResolved=1;eh=d9.element=d1}if(eg){eg.appendChild(eh)}avalon.fireDom(eh.parentNode,"datasetchanged",{dependency:1,library:ed,vm:ee});var dY=avalon.bind(eh,"datasetchanged",function(el){if(isFinite(el.dependency)&&el.library===ed){d6+=el.dependency;if(ee!==el.vm){ee.$refs[el.vm.$id]=el.vm;ee.$childReady(ee,eh,el);ef.$childReady(ee,eh,el);el.stopPropagation()}}if(d6===0){ee.$ready(ee,eh);ef.$ready(ee,eh);avalon.unbind(eh,"datasetchanged",dY);d9.rollback=function(){try{ee.$dispose(ee,eh);ef.$dispose(ee,eh)}catch(em){}delete avalon.vmodels[ee.$id]};cR(d9,bH);if(cl.chrome){eh.addEventListener("DOMNodeRemovedFromDocument",function(){setTimeout(a9)})}}});bQ(eh,[ee].concat(d9.vmodels));avalon.vmodels[ee.$id]=ee;if(!eh.childNodes.length){avalon.fireDom(eh,"datasetchanged",{dependency:-1,library:ed,vm:ee})}else{setTimeout(function(){avalon.fireDom(eh,"datasetchanged",{dependency:-1,library:ed,vm:ee})},17)}})(dS,avalon.components[e],dS.element,dS.widget)}}};avalon.fireDom=function(dS,ap,dR){if(cX.createEvent){var e=cX.createEvent("Events");e.initEvent(ap,true,true,dR);avalon.mix(e,dR);dS.dispatchEvent(e)}else{if(dq.contains(dS)){e=cX.createEventObject();avalon.mix(e,dR);dS.fireEvent("on"+ap,e)}}};function cW(dR,dT){if(dT){for(var dS=0,ap;ap=dR[dS++];){if(ap.hasOwnProperty(dT)&&typeof ap[dT]==="object"){var e=ap[dT];return e.$model||e;break}}}return{}}avalon.libraries=[];avalon.library=function(e,ap){if(cX.namespaces){cX.namespaces.add(e,"http://www.w3.org/1999/xhtml")}avalon.libraries[e]=avalon.mix({$init:l,$childReady:l,$ready:l,$dispose:l},ap||{})};avalon.library("ms");function b0(ap){if(ap.scopeName){return ap.scopeName}var dR=ap.localName;var e=dR&&dR.indexOf(":");if(e>0){return dR.slice(0,e)}}function bQ(dU,dS,dT){var ap=dU.getAttribute("ms-skip");if(!dU.getAttributeNode){return cL("warning "+dU.tagName+" no getAttributeNode method")}var e=dU.getAttributeNode("ms-important");var dW=dU.getAttributeNode("ms-controller");if(typeof ap==="string"){return}else{if(dT=e||dW){var dV=avalon.vmodels[dT.value];if(!dV){return}dS=dT===e?[dV]:[dV].concat(dS);var dR=dT.name;dU.removeAttribute(dR);avalon(dU).removeClass(dR);V(dU,dV)}}ck(dU,dS)}var dL=/\|\s*html(?:\b|$)/,bN=/\|\|/g,dv=/&lt;/g,ax=/&gt;/g,bi=/(['"])(\\\1|.)+?\1/g;function p(dR){if(dR.indexOf("|")>0){var e=dR.replace(bi,function(dS){return Array(dS.length+1).join("1")});var ap=e.replace(bN,"\u1122\u3344").indexOf("|");if(ap>-1){return{type:"text",filters:dR.slice(ap),expr:dR.slice(0,ap)}}}return{type:"text",expr:dR,filters:""}}function da(dS){var dR=[],ap,dT=0,e;do{e=dS.indexOf(c1,dT);if(e===-1){break}ap=dS.slice(dT,e);if(ap){dR.push({expr:ap})}dT=e+c1.length;e=dS.indexOf(bD,dT);if(e===-1){break}ap=dS.slice(dT,e);if(ap){dR.push(p(ap,dT))}dT=e+bD.length}while(1);ap=dS.slice(dT);if(ap){dR.push({expr:ap})}return dR}function D(dT,ap,e){var dU=[];tokens=da(dT.data);if(tokens.length){for(var dR=0;token=tokens[dR++];){var dS=cX.createTextNode(token.expr);if(token.type){token.expr=token.expr.replace(aH,function(){token.oneTime=true;return""});token.element=dS;token.filters=token.filters.replace(dL,function(){token.type="html";return""});token.pos=e*1000+dR;dU.push(token)}cx.appendChild(dS)}dT.parentNode.replaceChild(cx,dT);if(dU.length){db(dU,ap)}}}var cO=function(){this.queue=[]};cO.prototype={render:function(ap){if(!this.locked){this.locked=ap?dq.offsetHeight+10:1;var e=this;avalon.nextTick(function(){e.flush()})}},flush:function(){for(var e=0,ap;ap=this.queue[e++];){ap.update()}this.locked=0;this.queue=[]}};var dG=new cO();var de=["autofocus,autoplay,async,allowTransparency,checked,controls","declare,disabled,defer,defaultChecked,defaultSelected","contentEditable,isMap,loop,multiple,noHref,noResize,noShade","open,readOnly,selected"].join(",");var A={};de.replace(b8,function(e){A[e.toLowerCase()]=e});var bv={"accept-charset":"acceptCharset","char":"ch","charoff":"chOff","class":"className","for":"htmlFor","http-equiv":"httpEquiv"};var j=["accessKey,bgColor,cellPadding,cellSpacing,codeBase,codeType,colSpan","dateTime,defaultValue,frameBorder,longDesc,maxLength,marginWidth,marginHeight","rowSpan,tabIndex,useMap,vSpace,valueType,vAlign"].join(",");j.replace(b8,function(e){bv[e.toLowerCase()]=e});var aq=avalon.directive("attr",{init:function(dR){dR.expr=aD(dR.expr.trim());if(dR.type==="include"){var ap=dR.element;c6(ap,dR);dR.includeRendered=a3(ap,"data-include-rendered",dR.vmodels);dR.includeLoaded=a3(ap,"data-include-loaded",dR.vmodels);var e=dR.includeReplace=!!avalon(ap).data("includeReplace");if(avalon(ap).data("includeCache")){dR.templateCache={}}dR.start=cX.createComment("ms-include");dR.end=cX.createComment("ms-include-end");if(e){dR.element=dR.end;dR._element=ap;ap.parentNode.insertBefore(dR.end,ap);ap.parentNode.insertBefore(dR.start,dR.end)}else{ap.insertBefore(dR.start,ap.firstChild);ap.appendChild(dR.end)}}},update:function(dU){var dT=this.element;var ap=this.param;if(ap==="href"||ap==="src"){if(typeof dU==="string"&&!dq.hasAttribute){dU=dU.replace(/&amp;/g,"&")}dT[ap]=dU;if(cl.chrome&&dT.tagName==="EMBED"){var dS=dT.parentNode;var dW=document.createComment("ms-src");dS.replaceChild(dW,dT);dS.replaceChild(dT,dW)}}else{var dR=(dU===false)||(dU===null)||(dU===void 0);if(!aX&&bv[ap]){ap=bv[ap]}var e=A[ap];if(typeof dT[e]==="boolean"){dT[e]=!!dU;if(!dU){dR=true}}if(dR){return dT.removeAttribute(ap)}var dV=aA.test(dT)?false:(cX.namespaces&&y(dT))?true:ap in dT.cloneNode(false);if(dV){dT[ap]=dU+""}else{dT.setAttribute(ap,dU)}}}});"title,alt,src,value,css,include,href".replace(b8,function(e){F[e]=aq});avalon.directive("class",{init:function(dU){var dS=dU.param;var e=dU.type;if(!dS||isFinite(dS)){dU.param="";F.effect.init(dU)}else{cL("ms-"+e+'-xxx="yyy"这种用法已经过时,请使用ms-'+e+'="xxx:yyy"');dU.expr="["+az(dS)+","+dU.expr+"]";dU.oldStyle=dS}if(e==="hover"||e==="active"){if(!dU.hasBindEvent){var dR=dU.element;var ap=avalon(dR);var dT="mouseenter";var dY="mouseleave";if(e==="active"){dR.tabIndex=dR.tabIndex||-1;dT="mousedown";dY="mouseup";var dX=ap.bind("mouseleave",function(){dU.toggleClass&&ap.removeClass(dU.newClass)})}}var dW=ap.bind(dT,function(){dU.toggleClass&&ap.addClass(dU.newClass)});var dV=ap.bind(dY,function(){dU.toggleClass&&ap.removeClass(dU.newClass)});dU.rollback=function(){ap.unbind("mouseleave",dX);ap.unbind(dT,dW);ap.unbind(dY,dV)};dU.hasBindEvent=true}},update:function(e){var dR=this;var ap=avalon(this.element);dR.newClass=e[0];dR.toggleClass=!!e[1];if(dR.oldClass&&dR.newClass!==dR.oldClass){ap.removeClass(dR.oldClass)}dR.oldClass=dR.newClass;if(dR.type==="class"){if(dR.oldStyle){ap.toggleClass(dR.oldStyle,!!e[1])}else{ap.toggleClass(dR.newClass,dR.toggleClass)}}}});"hover,active".replace(b8,function(e){F[e]=F["class"]});avalon.directive("css",{init:F.attr.init,update:function(e){avalon(this.element).css(this.param,e)}});avalon.directive("data",{priority:100,update:function(dR){var ap=this.element;var e="data-"+this.param;if(dR&&typeof dR==="object"){ap[e]=dR}else{ap.setAttribute(e,String(dR))}}});var b3=/^(?:checkbox|radio)$/;var bm=/^(?:radio|checked)$/;var dg=avalon.directive("duplex",{priority:2000,init:function(dX,dY){var dR=dX.element;var ap=dX.vmodels;dX.changed=a3(dR,"data-duplex-changed",ap)||l;var dS=[];var dT=dI("string,number,boolean,checked");if(dR.type==="radio"&&dX.param===""){dX.param="checked"}if(dR.msData){dR.msData["ms-duplex"]=dX.expr}dX.param.replace(f,function(d3){if(b3.test(dR.type)&&bm.test(d3)){if(d3==="radio"){cL("ms-duplex-radio已经更名为ms-duplex-checked")}d3="checked";dX.isChecked=true;dX.xtype="radio"}if(d3==="bool"){d3="boolean";cL("ms-duplex-bool已经更名为ms-duplex-boolean")}else{if(d3==="text"){d3="string";cL("ms-duplex-text已经更名为ms-duplex-string")}}if(dT[d3]){dY=true}avalon.Array.ensure(dS,d3)});if(dR.type==="radio"){dX.xtype="radio"}if(!dY){dS.push("string")}dX.param=dS.join("-");dX.changed=a3(dR,"binding-duplex-changed",ap)||l;if(!dX.xtype){dX.xtype=dR.tagName==="SELECT"?"select":dR.type==="checkbox"?"checkbox":/^change/.test(dR.getAttribute("data-duplex-event"))?"change":"input"}dX.bound=function(d4,d5){if(dR.addEventListener){dR.addEventListener(d4,d5,false)}else{dR.attachEvent("on"+d4,d5)}var d3=dX.rollback;dX.rollback=function(){dR.avalonSetter=null;avalon.unbind(dR,d4,d5);d3&&d3()}};var d1=false;function d2(d3){dX.changed.call(this,d3,dX)}function e(){d1=true}function dV(){d1=false}var d0=function(){if(d1){return}var d5=dR.value;var d3=dX.pipe(d5,dX,"get");try{dX.setter(d3);d2.call(dR,d3)}catch(d4){cL(d4)}};switch(dX.xtype){case"radio":dX.bound("click",function(){var d3=dX.pipe(dR.value,dX,"get");try{dX.setter(d3);d2.call(dR,d3)}catch(d4){cL(d4)}});break;case"checkbox":dX.bound(aX?"change":"click",function(){var d5=dR.checked?"ensure":"remove";var d4=dX.getter();if(!Array.isArray(d4)){cL("ms-duplex应用于checkbox上要对应一个数组");d4=[d4]}var d3=dX.pipe(dR.value,dX,"get");avalon.Array[d5](d4,d3);d2.call(dR,d4)});break;case"change":dX.bound("change",d0);break;case"input":if(!cg){dX.bound("input",d0);dX.bound("compositionstart",e);dX.bound("compositionend",dV);dX.bound("DOMAutoComplete",d0)}else{if(cg>8){dX.bound("input",d0)}else{dX.bound("propertychange",function(d3){if(d3.propertyName==="value"){d0()}})}dX.bound("dragend",function(){setTimeout(function(){d0()},17)})}break;case"select":dX.bound("change",function(){var d4=avalon(dR).val();if(Array.isArray(d4)){d4=d4.map(function(d5){return dX.pipe(d5,dX,"get")})}else{d4=dX.pipe(d4,dX,"get")}if(d4+""!==dX.oldValue){try{dX.setter(d4);d2.call(dR,d4)}catch(d3){cL(d3)}}});break}if(dX.xtype==="input"&&/^(text|password|hidden)/.test(dR.type)){dR.avalonSetter=d0;bu(function(){if(dq.contains(dR)){if(dR.oldValue!==dR.value){d0()}}else{if(!dR.msRetain){return false}}})}for(var dU in avalon.vmodels){var dZ=avalon.vmodels[dU];dZ.$fire("avalon-ms-duplex-init",dX)}var dW=dX.pipe||(dX.pipe=bq);dW(null,dX,"init")},update:function(ap){var e=this.element,dS=this,dR;switch(this.xtype){case"input":case"change":dR=this.pipe(ap,this,"set")+"";if(dR!==this.oldValue){e.oldValue=e.value=dR}break;case"radio":dR=dS.isChecked?!!ap:ap+""===e.value;if(cg===6){setTimeout(function(){e.defaultChecked=dR;e.checked=dR},31)}else{e.checked=dR}break;case"checkbox":var dT=[].concat(ap);dR=this.pipe(e.value,this,"get");e.checked=dT.indexOf(dR)>-1;break;case"select":dS._value=ap;e.msHasEvent="selectDuplex";avalon.bind(e,"datasetchanged",function(dW){if(dW.bubble==="selectDuplex"){var dU=dS._value;var dV=Array.isArray(dU)?dU.map(String):dU+"";avalon(e).val(dV);e.oldValue=dV+"";dS.changed.call(e,dV)}});break}if(dS.xtype!=="select"){dS.changed.call(e,dR)}}});if(cg){avalon.bind(cX,"selectionchange",function(dR){var ap=cX.activeElement;if(ap&&typeof ap.avalonSetter==="function"){ap.avalonSetter()}})}function ag(e){return e==null?"":e}avalon.duplexHooks={checked:{get:function(ap,e){return !e.oldValue}},string:{get:function(e){return e},set:ag},"boolean":{get:function(e){return e==="true"},set:ag},number:{get:function(dS,dR){var ap=parseFloat(dS+"");if(-dS===-ap){return ap}var e=/strong|medium|weak/.exec(dR.element.getAttribute("data-duplex-number"))||["medium"];switch(e[0]){case"strong":return 0;case"medium":return dS===""?"":0;case"weak":return dS}},set:ag}};function bq(dR,ap,e){ap.param.replace(f,function(dS){var dT=avalon.duplexHooks[dS];if(dT&&typeof dT[e]==="function"){dR=dT[e](dR,ap)}});return dR}var N,c7=[];avalon.tick=function(e){if(c7.push(e)===1){N=setInterval(cU,60)}};function cU(){for(var ap=c7.length-1;ap>=0;ap--){var e=c7[ap];if(e()===false){c7.splice(ap,1)}}if(!c7.length){clearInterval(N)}}var bu=l;new function(){try{var dR={};var dV=HTMLInputElement.prototype;var dT=HTMLTextAreaElement.prototype;function ap(e){dR[this.tagName].call(this,e);if((typeof this.avalonSetter==="function")&&this.oldValue!==e){this.avalonSetter()}}var dU=HTMLInputElement.prototype;Object.getOwnPropertyNames(dU);dR["INPUT"]=Object.getOwnPropertyDescriptor(dV,"value").set;Object.defineProperty(dV,"value",{set:ap});dR["TEXTAREA"]=Object.getOwnPropertyDescriptor(dT,"value").set;Object.defineProperty(dT,"value",{set:ap})}catch(dS){bu=avalon.tick}};avalon.directive("effect",{priority:5,init:function(dT){var dS=dT.expr,dR,ap;var e=dS.replace(aQ,function(dU){return dU.replace(/./g,"0")}).indexOf(":");if(e===-1){dR=dS;ap=true}else{dR=dS.slice(0,e);ap=dS.slice(e+1)}if(!an.test(dS)){dR=az(dR)}else{dR=aD(dR)}dT.expr="["+dR+","+ap+"]"},update:function(e){var ap=e[0];var dT=this.element;if(dT.getAttribute("data-effect-name")===ap){return}else{dT.removeAttribute("data-effect-driver")}var dV=dT.style;var dS=cl.getComputedStyle?cl.getComputedStyle(dT):null;var dR=false;if(dS&&(bZ||X)){var dU=dV[cT]||dS[cT];if(dU&&dU!=="0s"){dT.setAttribute("data-effect-driver","t");dR=true}if(!dR){dU=dV[aT]||dS[aT];if(dU&&dU!=="0s"){dT.setAttribute("data-effect-driver","a");dR=true}}}if(!dR){if(avalon.effects[ap]){dT.setAttribute("data-effect-driver","j");dR=true}}if(dR){dT.setAttribute("data-effect-name",ap)}}});avalon.effects={};avalon.effect=function(e,ap){avalon.effects[e]=ap};var bZ=false;var X=false;var K;var cE;var cT=avalon.cssName("transition-duration");var aT=avalon.cssName("animation-duration");new function(){var dT={"TransitionEvent":"transitionend","WebKitTransitionEvent":"webkitTransitionEnd","OTransitionEvent":"oTransitionEnd","otransitionEvent":"otransitionEnd"};var dU;for(var dS in dT){if(cl[dS]){dU=dT[dS];break}try{var dR=document.createEvent(dS);dU=dT[dS];break}catch(dV){}}if(typeof dU==="string"){bZ=true;K=dU}dT={"AnimationEvent":"animationend","WebKitAnimationEvent":"webkitAnimationEnd"};var ap;for(dS in dT){if(cl[dS]){ap=dT[dS];break}}if(typeof ap==="string"){bZ=true;cE=ap}}();var n=[];function dl(dR,dS){if(!dR||dR.nodeType!==1){return null}if(dS){var ap=dS.effectName;var dT=dS.effectDriver}else{ap=dR.getAttribute("data-effect-name");dT=dR.getAttribute("data-effect-driver")}if(!ap||!dT){return null}var e=n.pop()||new ba();e.el=dR;e.driver=dT;e.useCss=dT!=="j";if(e.useCss){dS&&avalon(dR).addClass(dS.effectClass);e.cssEvent=dT==="t"?K:cE}e.name=ap;e.callbacks=avalon.effects[ap]||{};return e}function c6(dR,dS){var e=dR.getAttribute("data-effect-name");if(e){dS.effectName=e;dS.effectDriver=dR.getAttribute("data-effect-driver");var ap=+dR.getAttribute("data-effect-stagger");dS.effectLeaveStagger=+dR.getAttribute("data-effect-leave-stagger")||ap;dS.effectEnterStagger=+dR.getAttribute("data-effect-enter-stagger")||ap;dS.effectClass=dR.className||NaN}}function S(e){return e.replace(/^[\S]/g,function(ap){return ap.toUpperCase()})}var dr=new cO();function ba(){}ba.prototype={contrustor:ba,enterClass:function(){return ay(this,"enter")},leaveClass:function(){return ay(this,"leave")},actionFun:function(e,dV,dW){if(document.hidden){return}var dT=this;var dS=dT.el;var dR=e==="leave";e=dR?"leave":"enter";var dU=dR?"enter":"leave";a0(dT,"abort"+S(dU));a0(dT,"before"+S(e));if(!dR){dV(dS)}var ap=function(dX){dS.removeEventListener(dT.cssEvent,dT.cssCallback);if(dR){dV(dS);avalon(dS).removeClass(dT.cssClass)}else{if(dT.driver==="a"){avalon(dS).removeClass(dT.cssClass)}}if(dX!==true){a0(dT,"after"+S(e));dW&&dW(dS)}dT.dispose()};if(dT.useCss){if(dT.cssCallback){dT.cssCallback(true)}dT.cssClass=ay(dT,e);dT.cssCallback=ap;dT.update=function(){dS.addEventListener(dT.cssEvent,dT.cssCallback);if(!dR&&dT.driver==="t"){avalon(dS).removeClass(dT.cssClass)}};avalon(dS).addClass(dT.cssClass);dr.render(true);dr.queue.push(dT)}else{a0(dT,e,ap)}},enter:function(e,ap){this.actionFun.apply(this,["enter"].concat(avalon.slice(arguments)))},leave:function(e,ap){this.actionFun.apply(this,["leave"].concat(avalon.slice(arguments)))},dispose:function(){this.update=this.cssCallback=null;if(n.unshift(this)>100){n.pop()}}};function ay(e,dR){var ap=e.callbacks[dR+"Class"];if(typeof ap==="string"){return ap}if(typeof ap==="function"){return ap()}return e.name+"-"+dR}function a0(dR,ap,e){var dS=dR.callbacks[ap];if(dS){dS.call(dR,dR.el,e)}}var au=function(dS,ap){var e=ab.call(arguments,0);if(typeof e[2]!=="function"){e.splice(2,0,l)}if(typeof e[3]!=="function"){e.splice(3,0,l)}var dU=e[2];var dV=e[3];var dT=e[4];var dR=dl(dS,dT);if(!dR){dU();dV();return false}else{var dW=ap?"enter":"leave";dR[dW](dU,dV)}};avalon.mix(avalon.effect,{apply:au,append:function(ap,e,dS,dR){return au(ap,1,function(){e.appendChild(ap)},dS,dR)},before:function(e,dR,dS,ap){return au(e,1,function(){dR.parentNode.insertBefore(e,dR)},dS,ap)},remove:function(ap,e,dS,dR){return au(ap,0,function(){if(ap.parentNode===e){e.removeChild(ap)}},dS,dR)}});avalon.directive("html",{update:function(ap){var dV=this;var dT=this.element;var dX=dT.nodeType!==1;var dY=dX?dT.parentNode:dT;if(!dY){return}ap=ap==null?"":ap;if(dT.nodeType===3){var dR=bU("html");dY.insertBefore(cX.createComment(dR),dT);dV.element=cX.createComment(dR+":end");dY.replaceChild(dV.element,dT);dT=dV.element}if(typeof ap!=="object"){var dU=avalon.parseHTML(String(ap))}else{if(ap.nodeType===11){dU=ap}else{if(ap.nodeType===1||ap.item){var e=ap.nodeType===1?ap.childNodes:ap.item;dU=cx.cloneNode(true);while(e[0]){dU.appendChild(e[0])}}}}e=avalon.slice(dU.childNodes);if(dX){var dW=dT.nodeValue.slice(0,-4);while(true){var dS=dT.previousSibling;if(!dS||dS.nodeType===8&&dS.nodeValue===dW){break}else{dY.removeChild(dS)}}dY.insertBefore(dU,dT)}else{avalon.clearHTML(dT).appendChild(dU)}a1(e,dV.vmodels)}});avalon.directive("if",{priority:10,update:function(dU){var d0=this;var dX=this.element;var dS=d0.stamp=+new Date();var dZ;var dT=function(){if(dS!==d0.stamp){return}d0.recoverNode=null};if(d0.recoverNode){d0.recoverNode()}try{if(!dX.parentNode){return}dZ=dX.parentNode}catch(dY){return}if(dU){function dW(){if(dX.getAttribute(d0.name)){dX.removeAttribute(d0.name);ck(dX,d0.vmodels)}d0.rollback=null}if(dX.nodeType===8){var dR=d0.keep;var ap=avalon.effect.apply(dR,1,function(){if(dS!==d0.stamp){return}dX.parentNode.replaceChild(dR,dX);dX=d0.element=dR;dW()},dT);ap=ap===false}if(!ap){dW()}}else{if(dX.nodeType===1){var dV=d0.element=cX.createComment("ms-if"),d1=dX.nextSibling;d0.recoverNode=function(){d0.recoverNode=null;if(dV.parentNode!==dZ){dZ.insertBefore(dV,d1);d0.keep=dX}};avalon.effect.apply(dX,0,function(){d0.recoverNode=null;if(dS!==d0.stamp){return}dX.parentNode.replaceChild(dV,dX);d0.keep=dX;aI.appendChild(dX);d0.rollback=function(){if(dX.parentNode===aI){aI.removeChild(dX)}}},dT)}}}});var aW=/<noscript.*?>(?:[\s\S]+?)<\/noscript>/img;var bh=/<noscript.*?>([\s\S]+?)<\/noscript>/im;var aG=function(){return new (cl.XMLHttpRequest||ActiveXObject)("Microsoft.XMLHTTP")};var a6=avalon.templateCache={};function a5(dS,dU,dR){var dT=dS.templateCache&&dS.templateCache[dU];if(dT){var ap=cX.createDocumentFragment(),e;while(e=dT.firstChild){ap.appendChild(e)}return ap}return avalon.parseHTML(dR)}function af(ap){var dS=cX.createDocumentFragment();for(var dR=0,e=ap.length;dR<e;dR++){dS.appendChild(ap[dR])}return dS}avalon.directive("include",{init:F.attr.init,update:function(d8){var dW=this;var d1=this.element;var dZ=dW.vmodels;var d4=dW.includeRendered;var d0=dW.effectName&&dW.effectClass;var dR=dW.templateCache;var e=dW.includeReplace;var dX=dW.includeLoaded;var d3=e?d1.parentNode:d1;var dU=dW._element;dW.recoverNodes=dW.recoverNodes||avalon.noop;var d7=e&&dU.cloneNode();var d2=function(ek){var eb=dW._stamp=+(new Date());if(dX){var ee=dX.apply(d3,[ek].concat(dZ));if(typeof ee==="string"){ek=ee}}if(d4){d(d3,function(){d4.call(d3)},NaN)}var ef=dW.includeLastID||"_default";dW.includeLastID=d8;var eh=dR&&dR[ef]||cX.createElement(d1.tagName||dW._element.tagName);if(d0){eh.className=d0;d3.insertBefore(eh,dW.start)}if(d0||dR){(dR||{})[ef]=eh;var ej=dW.recoverNodes();if(ej){d3.insertBefore(ej,dW.end)}while(true){var ec=dW.start.nextSibling;if(ec&&ec!==eh&&ec!==dW.end){eh.appendChild(ec)}else{break}}}avalon.effect.remove(eh,d3,function(){if(dR){if(eb===dW._stamp){aI.appendChild(eh)}eh.setAttribute("sb",ef)}},dW);var ed=d3,ei=avalon.noop,ea=avalon.noop;var eg=a5(dW,d8,ek);var d9=avalon.slice(eg.childNodes);if(e&&d0){ed=dU;ed.innerHTML="";ed.setAttribute("ms-skip","true");d3.insertBefore(ed,dW.end.nextSibling);ei=function(){ed.insertBefore(eg,null)};ea=function(){dW.recoverNodes=avalon.noop;if(eb===dW._stamp){eg=af(d9);d3.insertBefore(eg,dW.end);a1(d9,dZ)}if(ed.parentNode===d3){d3.removeChild(ed)}};dW.recoverNodes=function(){dW.recoverNodes=avalon.noop;return af(d9)}}else{ei=function(){d3.insertBefore(eg,dW.end);a1(d9,dZ)}}avalon.effect.apply(ed,"enter",ei,ea)};if(dW.param==="src"){if(typeof a6[d8]==="string"){avalon.nextTick(function(){d2(a6[d8])})}else{if(Array.isArray(a6[d8])){a6[d8].push(d2)}else{var dT=aG();dT.onreadystatechange=function(){if(dT.readyState===4){var ea=dT.status;if(ea>=200&&ea<300||ea===304||ea===1223){var ec=dT.responseText;for(var eb=0,d9;d9=a6[d8][eb++];){d9(ec)}a6[d8]=ec}}};a6[d8]=[d2];dT.open("GET",d8,true);if("withCredentials" in dT){dT.withCredentials=true}dT.setRequestHeader("X-Requested-With","XMLHttpRequest");dT.send(null)}}}else{var ap=d8&&d8.nodeType===1?d8:cX.getElementById(d8);if(ap){if(ap.tagName==="NOSCRIPT"&&!(ap.innerHTML||ap.fixIE78)){dT=aG();dT.open("GET",location,false);dT.send(null);var d5=cX.getElementsByTagName("noscript");var dS=(dT.responseText||"").match(aW)||[];var dV=dS.length;for(var dY=0;dY<dV;dY++){var d6=d5[dY];if(d6){d6.style.display="none";d6.fixIE78=(dS[dY].match(bh)||["","&nbsp;"])[1]}}}avalon.nextTick(function(){d2(ap.fixIE78||ap.value||ap.innerText||ap.innerHTML)})}}}});var bS=/\(([^)]*)\)/;var E=avalon.directive("on",{priority:3000,init:function(dS){var dR=dS.expr;dS.type="on";var ap=dS.param.replace(/-\d+$/,"");if(typeof E[ap+"Hook"]==="function"){E[ap+"Hook"](dS)}if(dR.indexOf("(")>0&&dR.indexOf(")")>-1){var e=(dR.match(bS)||["",""])[1].trim();if(e===""||e==="$event"){dR=dR.replace(bS,"")}}dS.expr=dR},update:function(dT){var dS=this;var dR=this.element;dT=function(dV){var dU=dS.getter||l;return dU.apply(this,dS.args.concat(dV))};var e=dS.param.replace(/-\d+$/,"");if(e==="scan"){dT.call(dR,{type:e})}else{if(typeof dS.specialBind==="function"){dS.specialBind(dR,dT)}else{var ap=avalon.bind(dR,e,dT)}}dS.rollback=function(){if(typeof dS.specialUnbind==="function"){dS.specialUnbind()}else{avalon.unbind(dR,e,ap)}}}});avalon.directive("repeat",{priority:90,init:function(dV){var dW=dV.type;dV.cache={};dV.enterCount=0;var dT=dV.element;if(dT.nodeType===1){dT.removeAttribute(dV.name);c6(dT,dV);dV.param=dV.param||"el";dV.sortedCallback=a3(dT,"data-with-sorted",dV.vmodels);var dS=a3(dT,"data-"+dW+"-rendered",dV.vmodels);var dR=bU(dW);var ap=cX.createComment(dR+":start");var dU=dV.element=cX.createComment(dR+":end");dV.signature=dR;dV.start=ap;dV.template=cx.cloneNode(false);if(dW==="repeat"){var dX=dT.parentNode;dX.replaceChild(dU,dT);dX.insertBefore(ap,dU);dV.template.appendChild(dT)}else{while(dT.firstChild){dV.template.appendChild(dT.firstChild)}dT.appendChild(ap);dT.appendChild(dU);dX=dT}dV.element=dU;if(dS){var e=avalon.bind(dX,"datasetchanged",function(){dS.apply(dX,dX.args);avalon.unbind(dX,"datasetchanged",e);dX.msRendered=dS})}}},update:function(d8,d0){var d5=this;var dU=this.xtype;this.enterCount+=1;var eb=!d0;if(eb){d5.$outer={};var dY="$key";var dX="$val";if(dU==="array"){dY="$first";dX="$last"}for(var ec=0,dZ;dZ=d5.vmodels[ec++];){if(dZ.hasOwnProperty(dY)&&dZ.hasOwnProperty(dX)){d5.$outer=dZ;break}}}var d3=this.track;if(d5.sortedCallback){var e=d5.sortedCallback.call(dW,d3);if(e&&Array.isArray(e)){d3=e}}var d9="move";d5.$repeat=d8;var ef=[];var ee=eb&&cx.cloneNode(false);var dS=[];var dV=this.param;var d6=avalon.mix({},this.cache);var ed=this.element;var dT=d3.length;var dW=ed.parentNode;for(ec=0;ec<dT;ec++){var d4=d3[ec];var ea=d6[d4];if(!ea){ea=bC(this);if(dU==="array"){d9="add";ea.$id=d4;ea[dV]=d8[ec]}else{d9="append";ea.$key=d4;ea.$val=d8[d4]}this.cache[d4]=ea;var d7=ea.$anchor||(ea.$anchor=ed.cloneNode(false));d7.nodeValue=this.signature;bp(d5,ee,ea,ef,eb&&!d5.effectDriver);bB(ea,d5,dU)}else{ef.push({});d6[d4]=true}if(this.enterCount===1){ea.$active=false;ea.$oldIndex=ea.$index;ea.$active=true;ea.$index=ec}if(dU==="array"){ea.$first=ec===0;ea.$last=ec===dT-1}else{ea.$val=cY(d8[d4])}dS.push(ea)}this.proxies=dS;if(eb&&!d5.effectDriver){dW.insertBefore(ee,ed);ef.forEach(function(eg){a1(eg.nodes||[],eg.vmodels);eg.nodes=eg.vmodels=null})}else{var ap=d5.staggerIndex=0;for(d4 in d6){if(d6[d4]!==true){d9="del";cy(d6[d4].$anchor,d5);c(this.cache,d4,dV);d6[d4]=null}}for(ec=0;ec<dT;ec++){ea=dS[ec];d4=dU==="array"?ea.$id:ea.$key;var d2=dS[ec-1];var dR=d2?d2.$anchor:d5.start;if(!d6[d4]){(function(ei,ej){var eg=ei.nodes;var eh=ei.vmodels;if(eg){ap=a7(d5.effectEnterStagger,function(){dW.insertBefore(ei.content,ej.nextSibling);a1(eg,eh);cv(eg,1,d5)},ap)}ei.nodes=ei.vmodels=null})(ef[ec],dR)}else{if(ea.$index!==ea.$oldIndex){(function(eg,eh){ap=a7(d5.effectEnterStagger,function(){var ej=cy(eg.$anchor);var ei=avalon.slice(ej.childNodes);dW.insertBefore(ej,eh.nextSibling);cv(ei,1,d5)},ap)})(ea,dR)}}}}if(!d8.$track){for(d4 in this.cache){c(this.cache,d4,dV)}}(function(eg){dW.args=eg;if(dW.msRendered){dW.msRendered.apply(dW,eg)}})(aB.newWatch?arguments:[d9]);var d1=setTimeout(function(){clearTimeout(d1);avalon.fireDom(dW,"datasetchanged",{bubble:dW.msHasEvent})});this.enterCount-=1}});"with,each".replace(b8,function(e){F[e]=avalon.mix({},F.repeat,{priority:1400})});function cv(ap,e,dT){for(var dR=0,dS;dS=ap[dR++];){if(dS.className===dT.effectClass){avalon.effect.apply(dS,e,l,l,dT)}}}function a7(e,dR,ap){if(e){setTimeout(dR,(++ap)*e)}else{dR()}return ap}function cy(ap,dW){var dV=cx.cloneNode(false);var dX=ap;var dS=dX.nodeValue;var dU=dW&&Math.max(+dW.staggerIndex,0);var e=avalon.slice(dX.parentNode.childNodes);var dT=e.indexOf(dX);while(true){var dR=e[--dT];if(!dR||String(dR.nodeValue).indexOf(dS)===0){break}if(dW&&(dR.className===dW.effectClass)){ap=dR;(function(dY){dW.staggerIndex=a7(dW.effectLeaveStagger,function(){avalon.effect.apply(dY,0,l,function(){dV.appendChild(dY)},dW)},dU)})(dR)}else{dV.insertBefore(dR,dV.firstChild)}}dV.appendChild(dX);return dV}function bp(dR,ap,dV,dW,dX){var dT=dR.template.cloneNode(true);var e=avalon.slice(dT.childNodes);dT.appendChild(dV.$anchor);dX&&ap.appendChild(dT);var dU=[dV].concat(dR.vmodels);var dS={nodes:e,vmodels:dU,content:dT};dW.push(dS)}function bC(dS){var ap=dS.xtype==="object"?bM:b7;var e=ap(dS);var dR=e.$anchor||(e.$anchor=dS.element.cloneNode(false));dR.nodeValue=dS.signature;e.$outer=dS.$outer;return e}var aV=[];function b7(dT,ap){var dS=dT.param||"el";for(var e=0,dU=aV.length;e<dU;e++){var dR=aV[e];if(dR&&dR.hasOwnProperty(dS)){aV.splice(e,1);ap=dR;break}}if(!ap){ap=cs(dS)}return ap}function cs(dS){var dR={$outer:{},$index:0,$oldIndex:0,$anchor:null,$first:false,$last:false,$remove:avalon.noop};dR[dS]=NaN;var ap={$last:1,$first:1,$index:1};ap[dS]=1;var e=cF(dR,{force:ap});e.$id=bU("$proxy$each");return e}function bB(e,dT,dR){if(dR==="array"){e.$remove=function(){dT.$repeat.removeAt(e.$index)};var dS=dT.param;e.$watch(dS,function(dU){var dV=e.$index;dT.$repeat[dV]=dU})}else{e.$watch("$val",function ap(dU){dT.$repeat[e.$key]=dU})}}var aF=[];function bM(){return aF.pop()||bf()}function bf(){var e=cF({$key:"",$val:NaN,$index:0,$oldIndex:0,$outer:{},$anchor:null},{force:{$key:1,$val:1,$index:1}});e.$id=bU("$proxy$with");return e}function c(dR,dU,dV){var dT=dR[dU];if(dT){var e=dT.$id.indexOf("$proxy$each")===0?aV:aF;dT.$outer={};for(var dS in dT.$events){var ap=dT.$events[dS];if(Array.isArray(ap)){ap.length=0;if(dS===dV){dT[dV]=NaN}else{if(dS==="$val"){dT.$val=NaN}}}}if(e.unshift(dT)>aB.maxRepeatSize){e.pop()}delete dR[dU]}}avalon.directive("text",{update:function(dR){var ap=this.element;dR=dR==null?"":dR;if(ap.nodeType===3){try{ap.data=dR}catch(dS){}}else{if("textContent" in ap){ap.textContent=dR}else{ap.innerText=dR}}}});function aK(dS,dR){var e="_"+dS;if(!aK[e]){var ap=cX.createElement(dS);dq.appendChild(ap);if(aX){dR=getComputedStyle(ap,null).display}else{dR=ap.currentStyle.display}dq.removeChild(ap);aK[e]=dR}return aK[e]}avalon.parseDisplay=aK;avalon.directive("visible",{init:function(e){},update:function(dS){var ap=this.element,dR=this,e=dR.stamp=+new Date();if(dS){ap.style.display="none";avalon.effect.apply(ap,1,function(){if(e!==dR.stamp){return}var dT=ap.getAttribute("data-effect-driver")||"a";if(/^[atn]/.test(dT)){if(!this.effectName){ap.style.display=""}if(avalon(ap).css("display")==="none"){ap.style.display=aK(ap.nodeName)}}})}else{avalon.effect.apply(ap,0,function(){if(e!==dR.stamp){return}ap.style.display="none"})}}});avalon.directive("widget",{priority:110,init:function(dW){var d0=dW.expr.match(b8);var dT=dW.element;var dS=dW.vmodels;var dX=d0[0];var dR=d0[1];if(!dR||dR==="$"){dR=bU(dX)}var d3=d0[2]||dX;var dU=avalon.ui[dX];if(typeof dU==="function"){dS=dT.vmodels||dS;for(var dV=0,d2;d2=dS[dV++];){if(d2.hasOwnProperty(d3)&&typeof d2[d3]==="object"){var ap=d2[d3];ap=ap.$model||ap;break}}if(ap){var d5=ap[dX+"Id"];if(typeof d5==="string"){cL("warning!不再支持"+dX+"Id");dR=d5}}var d1=avalon.getWidgetData(dT,dX);dW.expr=[dX,dR,d3].join(",");dW[dX+"Id"]=dR;dW.evaluator=l;dT.msData["ms-widget-id"]=dR;var d4=dW[dX+"Options"]=avalon.mix({},dU.defaults,ap||{},d1);dT.removeAttribute("ms-widget");var dZ=dU(dT,dW,dS)||{};if(dZ.$id){avalon.vmodels[dR]=dZ;V(dT,dZ);try{dZ.$init(function(){avalon.scan(dT,[dZ].concat(dS));if(typeof d4.onInit==="function"){d4.onInit.call(dT,dZ,d4,dS)}})}catch(dY){}dW.rollback=function(){try{dZ.$remove();dZ.widgetElement=null}catch(d6){}dT.msData={};delete avalon.vmodels[dZ.$id]};cR(dW,bH);if(cl.chrome){dT.addEventListener("DOMNodeRemovedFromDocument",function(){setTimeout(a9)})}}else{avalon.scan(dT,dS)}}else{if(dS.length){dT.vmodels=dS}}},update:function(e){}});var bH=[];var z=/<script[^>]*>([\S\s]*?)<\/script\s*>/gim;var ci=/\s+(on[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g;var a2=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/ig;var df={a:/\b(href)\=("javascript[^"]*"|'javascript[^']*')/ig,img:/\b(src)\=("javascript[^"]*"|'javascript[^']*')/ig,form:/\b(action)\=("javascript[^"]*"|'javascript[^']*')/ig};var cJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var bn=/([^\#-~| |!])/g;function o(dT,dR,dW,dV){dT=(dT+"").replace(/[^0-9+\-Ee.]/g,"");var ap=!isFinite(+dT)?0:+dT,e=!isFinite(+dR)?3:Math.abs(dR),dY=dV||",",dS=dW||".",dX="",dU=function(d1,d0){var dZ=Math.pow(10,d0);return""+(Math.round(d1*dZ)/dZ).toFixed(d0)};dX=(e?dU(ap,e):""+Math.round(ap)).split(".");if(dX[0].length>3){dX[0]=dX[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,dY)}if((dX[1]||"").length<e){dX[1]=dX[1]||"";dX[1]+=new Array(e-dX[1].length+1).join("0")}return dX.join(dS)}var bt=avalon.filters={uppercase:function(e){return e.toUpperCase()},lowercase:function(e){return e.toLowerCase()},truncate:function(dR,ap,e){ap=ap||30;e=typeof e==="string"?e:"...";return dR.length>ap?dR.slice(0,ap-e.length)+e:String(dR)},$filter:function(dS){for(var ap=1,dU=arguments.length;ap<dU;ap++){var dT=arguments[ap];var dR=avalon.filters[dT.shift()];if(typeof dR==="function"){var e=[dS].concat(dT);dS=dR.apply(null,e)}}return dS},camelize:m,sanitize:function(e){return e.replace(z,"").replace(a2,function(dR,ap){var dS=dR.toLowerCase().match(/<(\w+)\s/);if(dS){var dT=df[dS[1]];if(dT){dR=dR.replace(dT,function(dW,dV,dX){var dU=dX.charAt(0);return dV+"="+dU+"javascript:void(0)"+dU})}}return dR.replace(ci," ").replace(/\s+/g," ")})},escape:function(e){return String(e).replace(/&/g,"&amp;").replace(cJ,function(dS){var dR=dS.charCodeAt(0);var ap=dS.charCodeAt(1);return"&#"+(((dR-55296)*1024)+(ap-56320)+65536)+";"}).replace(bn,function(ap){return"&#"+ap.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")},currency:function(e,ap,dR){return(ap||"\uFFE5")+o(e,isFinite(dR)?dR:2)},number:o};new function(){function dS(dZ){return parseInt(dZ,10)||0}function dT(d0,d1,dZ){var d2="";if(d0<0){d2="-";d0=-d0}d0=""+d0;while(d0.length<d1){d0="0"+d0}if(dZ){d0=d0.substr(d0.length-d1)}return d2+d0}function dW(d0,d1,d2,dZ){return function(d3){var d4=d3["get"+d0]();if(d2>0||d4>-d2){d4+=d2}if(d4===0&&d2===-12){d4=12}return dT(d4,d1,dZ)}}function ap(d0,dZ){return function(d3,d1){var d4=d3["get"+d0]();var d2=(dZ?("SHORT"+d0):d0).toUpperCase();return d1[d2][d4]}}function dY(d0){var dZ=-1*d0.getTimezoneOffset();var d1=(dZ>=0)?"+":"";d1+=dT(Math[dZ>0?"floor":"ceil"](dZ/60),2)+dT(Math.abs(dZ%60),2);return d1}function dV(d0,dZ){return d0.getHours()<12?dZ.AMPMS[0]:dZ.AMPMS[1]}var dU={yyyy:dW("FullYear",4),yy:dW("FullYear",2,0,true),y:dW("FullYear",1),MMMM:ap("Month"),MMM:ap("Month",true),MM:dW("Month",2,1),M:dW("Month",1,1),dd:dW("Date",2),d:dW("Date",1),HH:dW("Hours",2),H:dW("Hours",1),hh:dW("Hours",2,-12),h:dW("Hours",1,-12),mm:dW("Minutes",2),m:dW("Minutes",1),ss:dW("Seconds",2),s:dW("Seconds",1),sss:dW("Milliseconds",3),EEEE:ap("Day"),EEE:ap("Day",true),a:dV,Z:dY};var e=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/;var dR=/^\/Date\((\d+)\)\/$/;bt.date=function(d0,d8){var ec=bt.date.locate,ea="",d2=[],d7,d3;d8=d8||"mediumDate";d8=ec[d8]||d8;if(typeof d0==="string"){if(/^\d+$/.test(d0)){d0=dS(d0)}else{if(dR.test(d0)){d0=+RegExp.$1}else{var d1=d0.trim();var dZ=[0,0,0,0,0,0,0];var eb=new Date(0);d1=d1.replace(/^(\d+)\D(\d+)\D(\d+)/,function(ef,ee,ed,eh){var eg=eh.length===4?[eh,ee,ed]:[ee,ed,eh];dZ[0]=dS(eg[0]);dZ[1]=dS(eg[1])-1;dZ[2]=dS(eg[2]);return""});var d5=eb.setFullYear;var d9=eb.setHours;d1=d1.replace(/[T\s](\d+):(\d+):?(\d+)?\.?(\d)?/,function(ef,ee,ed,eh,eg){dZ[3]=dS(ee);dZ[4]=dS(ed);dZ[5]=dS(eh);if(eg){dZ[6]=Math.round(parseFloat("0."+eg)*1000)}return""});var d6=0;var d4=0;d1=d1.replace(/Z|([+-])(\d\d):?(\d\d)/,function(ef,ed,eg,ee){d5=eb.setUTCFullYear;d9=eb.setUTCHours;if(ed){d6=dS(ed+eg);d4=dS(ed+ee)}return""});dZ[3]-=d6;dZ[4]-=d4;d5.apply(eb,dZ.slice(0,3));d9.apply(eb,dZ.slice(3));d0=eb}}}if(typeof d0==="number"){d0=new Date(d0)}if(avalon.type(d0)!=="date"){return}while(d8){d3=e.exec(d8);if(d3){d2=d2.concat(d3.slice(1));d8=d2.pop()}else{d2.push(d8);d8=null}}d2.forEach(function(ed){d7=dU[ed];ea+=d7?d7(d0,ec):ed.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return ea};var dX={AMPMS:{0:"上午",1:"下午"},DAY:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},MONTH:{0:"1月",1:"2月",2:"3月",3:"4月",4:"5月",5:"6月",6:"7月",7:"8月",8:"9月",9:"10月",10:"11月",11:"12月"},SHORTDAY:{"0":"周日","1":"周一","2":"周二","3":"周三","4":"周四","5":"周五","6":"周六"},fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"yyyy-M-d H:mm:ss",mediumDate:"yyyy-M-d",mediumTime:"H:mm:ss","short":"yy-M-d ah:mm",shortDate:"yy-M-d",shortTime:"ah:mm"};dX.SHORTMONTH=dX.MONTH;bt.date.locate=dX};var c9=avalon.modules={"domReady!":{exports:avalon,state:3},"avalon":{exports:avalon,state:4}};c9.exports=c9.avalon;new function(){var eo=[];var dZ=[];var ep=/\.js$/i;var ek=/(\?[^#]*)$/;function dX(es,er){var et="js";es=es.replace(/^(\w+)\!/,function(ez,ey){et=ey;return""});if(et==="ready"){cL("debug: ready!已经被废弃，请使用domReady!");et="domReady"}var ew="";es=es.replace(ek,function(ey){ew=ey;return""});var ex="."+et;var eu=/js|css/.test(ex)?ex:"";es=es.replace(/\.[a-z0-9]+$/g,function(ey){if(ey===ex){eu=ey;return""}else{return ey}});var ev=avalon.mix({query:ew,ext:eu,res:et,name:es,toUrl:eh},er);ev.toUrl(es);return ev}function em(ew){var es=ew.name;var eu=ew.res;var et=c9[es];var er=es&&ew.urlNoQuery;if(et&&et.state>=1){return es}et=c9[er];if(et&&et.state>=3){r(et.deps||[],et.factory,er);return er}if(es&&!et){et=c9[er]={id:er,state:1};var ev=function(ex){dV[eu]=ex;ex.load(es,ew,function(ey){if(arguments.length&&ey!==void 0){et.exports=ey}et.state=4;en()})};if(!dV[eu]){r([eu],ev)}else{ev(dV[eu])}}return es?er:eu+"!"}var d8=[];var ee=false;r=avalon.require=function(ex,ev,er,eA){if(!ee){d8.push(avalon.slice(arguments));if(arguments.length<=2){ee=true;var ew=d8.splice(0,d8.length),ey;while(ey=ew.shift()){r.apply(null,ey)}}return}if(!Array.isArray(ex)){avalon.error("require方法的第一个参数应为数组 "+ex)}var eB=[];var eC={};var et=er||"callback"+setTimeout("1");eA=eA||{};eA.baseUrl=aB.baseUrl;var es=!!eA.built;if(er){eA.parentUrl=er.substr(0,er.lastIndexOf("/"));eA.mapUrl=er.replace(ep,"")}if(es){var ez=dX(eA.defineName,eA);et=ez.urlNoQuery}else{ex.forEach(function(eE){var eF=dX(eE,eA);var eD=em(eF);if(eD){if(!eC[eD]){eB.push(eD);eC[eD]="司徒正美"}}})}var eu=c9[et];if(!eu||eu.state!==4){c9[et]={id:et,deps:es?ex.concat():eB,factory:ev||l,state:3}}if(!eu){eo.push(et)}en()};r.define=function(ev,ex,er){if(typeof ev!=="string"){er=ex;ex=ev;ev="anonymous"}if(!Array.isArray(ex)){er=ex;ex=[]}var eu={built:!ee,defineName:ev};var et=[ex,er,eu];er.require=function(ey){et.splice(2,0,ey);if(c9[ey]){c9[ey].state=3;var ez=false;try{ez=el(c9[ey].deps,ey)}catch(eA){}if(ez){avalon.error(ey+"模块与之前的模块存在循环依赖，请不要直接用script标签引入"+ey+"模块")}}delete er.require;r.apply(null,et)};var es=eu.built?"unknown":d7();if(es){var ew=c9[es];if(ew){ew.state=2}er.require(es)}else{dZ.push(er)}};r.config=aB;r.define.amd=c9;var dT=aB["orig.paths"]={};var dU=aB["orig.map"]={};var d5=aB["packages"]=[];var dW=aB["orig.args"]={};avalon.mix(dM,{paths:function(er){avalon.mix(dT,er);aB.paths=dS(dT)},map:function(es){avalon.mix(dU,es);var er=dS(dU,1,1);avalon.each(er,function(et,eu){eu.val=dS(eu.val)});aB.map=er},packages:function(ex){ex=ex.concat(d5);var ew={};var eu=[];for(var ev=0,et;et=ex[ev++];){et=typeof et==="string"?{name:et}:et;var es=et.name;if(!ew[es]){var er=d3(et.location||es,et.main||"main");er=er.replace(ep,"");eu.push(et);ew[es]=et.location=er;et.reg=dR(es)}}aB.packages=eu.sort()},urlArgs:function(er){if(typeof er==="string"){er={"*":er}}avalon.mix(dW,er);aB.urlArgs=dS(dW,1)},baseUrl:function(er){if(!dY(er)){var es=b.getElementsByTagName("base")[0];if(es){b.removeChild(es)}var et=cX.createElement("a");et.href=er;er=ei(et,"href");if(es){b.insertBefore(es,b.firstChild)}}if(er.length>3){aB.baseUrl=er}},shim:function(et){for(var er in et){var es=et[er];if(Array.isArray(es)){es=et[er]={deps:es}}if(!es.exportsFn&&(es.exports||es.init)){es.exportsFn=eq(es)}}aB.shim=et}});function el(et,er){for(var es=0,eu;eu=et[es++];){if(c9[eu].state!==4&&(eu===er||el(c9[eu].deps,er))){return true}}}function ea(es,er,et){var eu=ed(es.src);es.onload=es.onreadystatechange=es.onerror=null;if(er||(et&&c9[eu]&&!c9[eu].state)){setTimeout(function(){b.removeChild(es);es=null});cL("debug: 加载 "+eu+" 失败"+er+" "+(!c9[eu].state))}else{return true}}function en(){loop:for(var et=eo.length,ew;ew=eo[--et];){var eu=c9[ew],ev=eu.deps;if(!ev){continue}for(var er=0,es;es=ev[er];er++){if(Object(c9[es]).state!==4){continue loop}}if(eu.state!==4){eo.splice(et,1);d0(eu.id,eu.deps,eu.factory);en()}}}var ec=/complete|loaded/;function ef(er,ex,ew){var es=cX.createElement("script");var eu="onload" in es;var ev=eu?"onload":"onreadystatechange";function et(){var ey=dZ.pop();ey&&ey.require(ex);if(ew){ew()}if(ea(es,false,!eu)){cL("debug: 已成功加载 "+er);ex&&eo.push(ex);en()}}es[ev]=eu?et:function(){if(ec.test(es.readyState)){et()}};es.onerror=function(){ea(es,true)};es.className=c5;es.src=er;b.insertBefore(es,b.firstChild);cL("debug: 正准备加载 "+er)}var dV=r.plugins={domReady:{load:l},js:{load:function(es,eu,et){var er=eu.url;var ew=eu.urlNoQuery;var ev=aB.shim[es.replace(ep,"")];if(ev){r(ev.deps||[],function(){var ex=avalon.slice(arguments);ef(er,ew,function(){et(ev.exportsFn?ev.exportsFn.apply(0,ex):void 0)})})}else{ef(er,ew)}}},css:{load:function(es,ev,et){var er=ev.url;var eu=cX.createElement("link");eu.rel="stylesheet";eu.href=er;b.insertBefore(eu,b.firstChild);cL("debug: 已成功加载 "+er);et()}},text:{load:function(es,ev,eu){var er=ev.url;var ex=aG();ex.onreadystatechange=function(){if(ex.readyState===4){var ey=ex.status;if(ey>399&&ey<600){avalon.error(er+" 对应资源不存在或没有开启 CORS")}else{cL("debug: 已成功加载 "+er);eu(ex.responseText)}}};var ew="_="+(new Date()-0);var et=er.indexOf("?")===-1?er+"?"+ew:er+"&"+ew;ex.open("GET",et,true);if("withCredentials" in ex){ex.withCredentials=true}ex.setRequestHeader("X-Requested-With","XMLHttpRequest");ex.send();cL("debug: 正准备加载 "+er)}}};r.checkDeps=en;function ed(er){return(er||"").replace(ek,"")}function dY(er){return/^(?:[a-z]+:)?\/\//i.test(String(er))}function ei(er,es){return"1"[0]?er[es]:er.getAttribute(es,4)}function d7(){var er;try{a.b.c()}catch(ew){er=ew.stack;if(!er&&cl.opera){er=(String(ew).match(/of linked script \S+/g)||[]).join(" ")}}if(er){er=er.split(/[@ ]/g).pop();er=er[0]==="("?er.slice(1,-1):er.replace(/\s/,"");return ed(er.replace(/(:\d+)?:\d+$/i,""))}var es=b.getElementsByTagName("script");for(var eu=es.length,ev;ev=es[--eu];){if(ev.className===c5&&ev.readyState==="interactive"){var et=ei(ev,"src");return ev.className=ed(et)}}}var d1=/^callback\d+$/;function d0(er,eA,ev){var es=Object(c9[er]);es.state=4;for(var eu=0,ey=[],ez;ez=eA[eu++];){if(ez==="exports"){var et=es.exports||(es.exports={});ey.push(et)}else{ey.push(c9[ez].exports)}}try{var ex=ev.apply(cl,ey)}catch(ew){cL("执行["+er+"]模块的factory抛错： ",ew)}if(ex!==void 0){es.exports=ex}if(d1.test(er)){delete c9[er]}delete es.factory;return ex}function eh(ex){if(ex.indexOf(this.res+"!")===0){ex=ex.slice(this.res.length+1)}var eu=ex;var et=0;var ew=this.baseUrl;var es=this.parentUrl||ew;d6(ex,aB.paths,function(ez,ey){eu=eu.replace(ey,ez);et=1});if(!et){d6(ex,aB.packages,function(eA,ey,ez){eu=eu.replace(ez.name,ez.location)})}if(this.mapUrl){d6(this.mapUrl,aB.map,function(ey){d6(eu,ey,function(eA,ez){eu=eu.replace(ez,eA);es=ew})})}var ev=this.ext;if(ev&&et&&eu.slice(-ev.length)===ev){eu=eu.slice(0,-ev.length)}if(!dY(eu)){es=this.built||/^\w/.test(eu)?ew:es;eu=d3(es,eu)}var er=eu+ev;eu=er+this.query;d6(ex,aB.urlArgs,function(ey){eu+=(eu.indexOf("?")===-1?"?":"&")+ey});this.url=eu;return this.urlNoQuery=er}function dS(eu,er,et){var es=ap(eu,er,et);es.sort(ej);return es}function dR(er){return new RegExp("^"+er+"(/|$)")}function eq(er){return function(){var es;if(er.init){es=er.init.apply(cl,arguments)}return es||(er.exports&&eg(er.exports))}}function ap(ev,er,es){var ew=[];for(var et in ev){if(cr.call(ev,et)){var eu={name:et,val:ev[et]};ew.push(eu);eu.reg=et==="*"&&er?/^/:dR(et);if(es&&et!=="*"){eu.reg=new RegExp("/"+et.replace(/^\//,"")+"(/|$)")}}}return ew}function d6(et,ev,eu){ev=ev||[];for(var er=0,es;es=ev[er++];){if(es.reg.test(et)){eu(es.val,es.name,es);return false}}}function ej(es,er){var eu=es.name;var et=er.name;if(et==="*"){return -1}if(eu==="*"){return 1}return et.length-eu.length}var e=/\/\w+\/\.\./;function d3(es,er){if(es.charAt(es.length-1)!=="/"){es+="/"}if(er.slice(0,2)==="./"){return es+er.slice(2)}if(er.slice(0,2)===".."){es+=er;while(e.test(es)){es=es.replace(e,"")}return es}if(er.slice(0,1)==="/"){return es+er.slice(1)}return es+er}function eg(es){if(!es){return es}var er=cl;es.split(".").forEach(function(et){er=er[et]});return er}var d2=cX.scripts[cX.scripts.length-1];var d4=d2.getAttribute("data-main");if(d4){dM.baseUrl(d4);var d9=aB.baseUrl;aB.baseUrl=d9.slice(0,d9.lastIndexOf("/")+1);ef(d9.replace(ep,"")+".js")}else{var eb=ed(ei(d2,"src"));aB.baseUrl=eb.slice(0,eb.lastIndexOf("/")+1)}};var aO=[],ak;var al=function(e){ak=true;if(r){c9["domReady!"].state=4;r.checkDeps()}while(e=aO.shift()){e(avalon)}};function bX(){try{dq.doScroll("left");al()}catch(ap){setTimeout(bX)}}if(cX.readyState==="complete"){setTimeout(al)}else{if(aX){cX.addEventListener("DOMContentLoaded",al)}else{cX.attachEvent("onreadystatechange",function(){if(cX.readyState==="complete"){al()}});try{var aj=cl.frameElement===null}catch(cz){}if(dq.doScroll&&aj&&cl.external){bX()}}}avalon.bind(cl,"load",al);avalon.ready=function(e){if(!ak){aO.push(e)}else{e(avalon)}};avalon.config({loader:true});avalon.ready(function(){avalon.scan(cX.body)});if(typeof define==="function"&&define.amd){define("avalon",[],function(){return avalon})}var aJ=cl.avalon;avalon.noConflict=function(e){if(e&&cl.avalon===avalon){cl.avalon=aJ}return avalon};if(bd===void 0){cl.avalon=avalon}return avalon}));